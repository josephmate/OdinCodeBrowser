<html>
    <head>
        <link rel="stylesheet" type="text/css" href="/css/styles.css"/>
    </head>
<body>
<pre class="code">
/*
 * Copyright (c) 2005, 2013, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the &quot;Classpath&quot; exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */

package javax.management;

import java.lang.annotation.*;

/**
 * &lt;p&gt;Meta-annotation that describes how an annotation element relates
 * to a field in a {@link Descriptor}.  This can be the Descriptor for
 * an MBean, or for an attribute, operation, or constructor in an
 * MBean, or for a parameter of an operation or constructor.&lt;/p&gt;
 *
 * &lt;p&gt;Consider this annotation for example:&lt;/p&gt;
 *
 * &lt;pre&gt;
 * &amp;#64;Documented
 * &amp;#64;Target(ElementType.METHOD)
 * &amp;#64;Retention(RetentionPolicy.RUNTIME)
 * public &amp;#64;interface Units {
 *     &lt;b&gt;&amp;#64;DescriptorKey(&quot;units&quot;)&lt;/b&gt;
 *     String value();
 * }
 * &lt;/pre&gt;
 *
 * &lt;p&gt;and this use of the annotation:&lt;/p&gt;
 *
 * &lt;pre&gt;
 * public interface CacheControlMBean {
 *     &lt;b&gt;&amp;#64;Units(&quot;bytes&quot;)&lt;/b&gt;
 *     public long getCacheSize();
 * }
 * &lt;/pre&gt;
 *
 * &lt;p&gt;When a Standard MBean is made from the {@code CacheControlMBean},
 * the usual rules mean that it will have an attribute called
 * {@code CacheSize} of type {@code long}.  The {@code @Units}
 * annotation, given the above definition, will ensure that the
 * {@link MBeanAttributeInfo} for this attribute will have a
 * {@code Descriptor} that has a field called {@code units} with
 * corresponding value {@code bytes}.&lt;/p&gt;
 *
 * &lt;p&gt;Similarly, if the annotation looks like this:&lt;/p&gt;
 *
 * &lt;pre&gt;
 * &amp;#64;Documented
 * &amp;#64;Target(ElementType.METHOD)
 * &amp;#64;Retention(RetentionPolicy.RUNTIME)
 * public &amp;#64;interface Units {
 *     &lt;b&gt;&amp;#64;DescriptorKey(&quot;units&quot;)&lt;/b&gt;
 *     String value();
 *
 *     &lt;b&gt;&amp;#64;DescriptorKey(&quot;descriptionResourceKey&quot;)&lt;/b&gt;
 *     String resourceKey() default &quot;&quot;;
 *
 *     &lt;b&gt;&amp;#64;DescriptorKey(&quot;descriptionResourceBundleBaseName&quot;)&lt;/b&gt;
 *     String resourceBundleBaseName() default &quot;&quot;;
 * }
 * &lt;/pre&gt;
 *
 * &lt;p&gt;and it is used like this:&lt;/p&gt;
 *
 * &lt;pre&gt;
 * public interface CacheControlMBean {
 *     &lt;b&gt;&amp;#64;Units(&quot;bytes&quot;,
 *            resourceKey=&quot;bytes.key&quot;,
 *            resourceBundleBaseName=&quot;com.example.foo.MBeanResources&quot;)&lt;/b&gt;
 *     public long getCacheSize();
 * }
 * &lt;/pre&gt;
 *
 * &lt;p&gt;then the resulting {@code Descriptor} will contain the following
 * fields:&lt;/p&gt;
 *
 * &lt;table border=&quot;2&quot; summary=&quot;Descriptor Fields&quot;&gt;
 * &lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Value&lt;/th&gt;&lt;/tr&gt;
 * &lt;tr&gt;&lt;td&gt;units&lt;/td&gt;&lt;td&gt;&quot;bytes&quot;&lt;/td&gt;&lt;/tr&gt;
 * &lt;tr&gt;&lt;td&gt;descriptionResourceKey&lt;/td&gt;&lt;td&gt;&quot;bytes.key&quot;&lt;/td&gt;&lt;/tr&gt;
 * &lt;tr&gt;&lt;td&gt;descriptionResourceBundleBaseName&lt;/td&gt;
 *     &lt;td&gt;&quot;com.example.foo.MBeanResources&quot;&lt;/td&gt;&lt;/tr&gt;
 * &lt;/table&gt;
 *
 * &lt;p&gt;An annotation such as {@code @Units} can be applied to:&lt;/p&gt;
 *
 * &lt;ul&gt;
 * &lt;li&gt;a Standard MBean or MXBean interface;
 * &lt;li&gt;a method in such an interface;
 * &lt;li&gt;a parameter of a method in a Standard MBean or MXBean interface
 * when that method is an operation (not a getter or setter for an attribute);
 * &lt;li&gt;a public constructor in the class that implements a Standard MBean
 * or MXBean;
 * &lt;li&gt;a parameter in such a constructor.
 * &lt;/ul&gt;
 *
 * &lt;p&gt;Other uses of the annotation are ignored.&lt;/p&gt;
 *
 * &lt;p&gt;Interface annotations are checked only on the exact interface
 * that defines the management interface of a Standard MBean or an
 * MXBean, not on its parent interfaces.  Method annotations are
 * checked only in the most specific interface in which the method
 * appears; in other words, if a child interface overrides a method
 * from a parent interface, only {@code @DescriptorKey} annotations in
 * the method in the child interface are considered.
 *
 * &lt;p&gt;The Descriptor fields contributed in this way by different
 * annotations on the same program element must be consistent.  That
 * is, two different annotations, or two members of the same
 * annotation, must not define a different value for the same
 * Descriptor field.  Fields from annotations on a getter method must
 * also be consistent with fields from annotations on the
 * corresponding setter method.&lt;/p&gt;
 *
 * &lt;p&gt;The Descriptor resulting from these annotations will be merged
 * with any Descriptor fields provided by the implementation, such as
 * the &lt;a href=&quot;Descriptor.html#immutableInfo&quot;&gt;{@code
 * immutableInfo}&lt;/a&gt; field for an MBean.  The fields from the annotations
 * must be consistent with these fields provided by the implementation.&lt;/p&gt;
 *
 * &lt;p&gt;An annotation element to be converted into a descriptor field
 * can be of any type allowed by the Java language, except an annotation
 * or an array of annotations.  The value of the field is derived from
 * the value of the annotation element as follows:&lt;/p&gt;
 *
 * &lt;table border=&quot;2&quot; summary=&quot;Descriptor Field Types&quot;&gt;
 * &lt;tr&gt;&lt;th&gt;Annotation element&lt;/th&gt;&lt;th&gt;Descriptor field&lt;/th&gt;&lt;/tr&gt;
 * &lt;tr&gt;&lt;td&gt;Primitive value ({@code 5}, {@code false}, etc)&lt;/td&gt;
 *     &lt;td&gt;Wrapped value ({@code Integer.valueOf(5)},
 *         {@code Boolean.FALSE}, etc)&lt;/td&gt;&lt;/tr&gt;
 * &lt;tr&gt;&lt;td&gt;Class constant (e.g. {@code Thread.class})&lt;/td&gt;
 *     &lt;td&gt;Class name from {@link Class#getName()}
 *         (e.g. {@code &quot;java.lang.Thread&quot;})&lt;/td&gt;&lt;/tr&gt;
 * &lt;tr&gt;&lt;td&gt;Enum constant (e.g. {@link ElementType#FIELD})&lt;/td&gt;
 *     &lt;td&gt;Constant name from {@link Enum#name()}
 *         (e.g. {@code &quot;FIELD&quot;})&lt;/td&gt;&lt;/tr&gt;
 * &lt;tr&gt;&lt;td&gt;Array of class constants or enum constants&lt;/td&gt;
 *     &lt;td&gt;String array derived by applying these rules to each
 *         element&lt;/td&gt;&lt;/tr&gt;
 * &lt;tr&gt;&lt;td&gt;Value of any other type&lt;br&gt;
 *         ({@code String}, {@code String[]}, {@code int[]}, etc)&lt;/td&gt;
 *     &lt;td&gt;The same value&lt;/td&gt;&lt;/tr&gt;
 * &lt;/table&gt;
 *
 * @since 1.6
 */
@Documented
@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.METHOD)
public @interface DescriptorKey {
    String value();
}
</pre>
</body>
</html>
