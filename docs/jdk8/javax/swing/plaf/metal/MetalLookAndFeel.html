<html>
    <head>
        <link rel="stylesheet" type="text/css" href="/css/styles.css"/>
    </head>
<body>
<pre class="code">
/*
 * Copyright (c) 1998, 2013, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the &quot;Classpath&quot; exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */

package javax.swing.plaf.metal;

import java.awt.*;
import java.beans.PropertyChangeEvent;
import java.beans.PropertyChangeListener;
import javax.swing.plaf.*;
import javax.swing.*;
import javax.swing.plaf.basic.*;
import javax.swing.text.DefaultEditorKit;

import java.awt.Color;
import java.awt.event.KeyEvent;
import java.lang.reflect.*;
import java.lang.ref.ReferenceQueue;
import java.lang.ref.WeakReference;

import java.security.AccessController;
import java.security.PrivilegedAction;

import sun.awt.*;
import sun.security.action.GetPropertyAction;
import sun.swing.DefaultLayoutStyle;
import sun.swing.SwingLazyValue;
import sun.swing.SwingUtilities2;

/**
 * The Java Look and Feel, otherwise known as Metal.
 * &lt;p&gt;
 * Each of the {@code ComponentUI}s provided by {@code
 * MetalLookAndFeel} derives its behavior from the defaults
 * table. Unless otherwise noted each of the {@code ComponentUI}
 * implementations in this package document the set of defaults they
 * use. Unless otherwise noted the defaults are installed at the time
 * {@code installUI} is invoked, and follow the recommendations
 * outlined in {@code LookAndFeel} for installing defaults.
 * &lt;p&gt;
 * {@code MetalLookAndFeel} derives it's color palette and fonts from
 * {@code MetalTheme}. The default theme is {@code OceanTheme}. The theme
 * can be changed using the {@code setCurrentTheme} method, refer to it
 * for details on changing the theme. Prior to 1.5 the default
 * theme was {@code DefaultMetalTheme}. The system property
 * {@code &quot;swing.metalTheme&quot;} can be set to {@code &quot;steel&quot;} to indicate
 * the default should be {@code DefaultMetalTheme}.
 * &lt;p&gt;
 * &lt;strong&gt;Warning:&lt;/strong&gt;
 * Serialized objects of this class will not be compatible with
 * future Swing releases. The current serialization support is
 * appropriate for short term storage or RMI between applications running
 * the same version of Swing.  As of 1.4, support for long term storage
 * of all JavaBeans&amp;trade;
 * has been added to the &lt;code&gt;java.beans&lt;/code&gt; package.
 * Please see {@link java.beans.XMLEncoder}.
 *
 * @see MetalTheme
 * @see DefaultMetalTheme
 * @see OceanTheme
 *
 * @author Steve Wilson
 */
public class MetalLookAndFeel extends BasicLookAndFeel
{

    private static boolean METAL_LOOK_AND_FEEL_INITED = false;


    /**
     * True if checked for windows yet.
     */
    private static boolean checkedWindows;
    /**
     * True if running on Windows.
     */
    private static boolean isWindows;

    /**
     * Set to true first time we've checked swing.useSystemFontSettings.
     */
    private static boolean checkedSystemFontSettings;

    /**
     * True indicates we should use system fonts, unless the developer has
     * specified otherwise with Application.useSystemFontSettings.
     */
    private static boolean useSystemFonts;


    /**
     * Returns true if running on Windows.
     */
    static boolean isWindows() {
        if (!checkedWindows) {
            OSInfo.OSType osType = AccessController.doPrivileged(OSInfo.getOSTypeAction());
            if (osType == OSInfo.OSType.WINDOWS) {
                isWindows = true;
                String systemFonts = AccessController.doPrivileged(
                    new GetPropertyAction(&quot;swing.useSystemFontSettings&quot;));
                useSystemFonts = (systemFonts != null &amp;&amp;
                               (Boolean.valueOf(systemFonts).booleanValue()));
            }
            checkedWindows = true;
        }
        return isWindows;
    }

    /**
     * Returns true if system fonts should be used, this is only useful
     * for windows.
     */
    static boolean useSystemFonts() {
        if (isWindows() &amp;&amp; useSystemFonts) {
            if (METAL_LOOK_AND_FEEL_INITED) {
                Object value = UIManager.get(
                                 &quot;Application.useSystemFontSettings&quot;);

                return (value == null || Boolean.TRUE.equals(value));
            }
            // If an instanceof MetalLookAndFeel hasn't been inited yet, we
            // don't want to trigger loading of a UI by asking the UIManager
            // for a property, assume the user wants system fonts. This will
            // be properly adjusted when install is invoked on the
            // MetalTheme
            return true;
        }
        return false;
    }

    /**
     * Returns true if the high contrast theme should be used as the default
     * theme.
     */
    private static boolean useHighContrastTheme() {
        if (isWindows() &amp;&amp; useSystemFonts()) {
            Boolean highContrast = (Boolean)Toolkit.getDefaultToolkit().
                                  getDesktopProperty(&quot;win.highContrast.on&quot;);

            return (highContrast == null) ? false : highContrast.
                                            booleanValue();
        }
        return false;
    }

    /**
     * Returns true if we're using the Ocean Theme.
     */
    static boolean usingOcean() {
        return (getCurrentTheme() instanceof OceanTheme);
    }

    /**
     * Returns the name of this look and feel. This returns
     * {@code &quot;Metal&quot;}.
     *
     * @return the name of this look and feel
     */
    public String getName() {
        return &quot;Metal&quot;;
    }

    /**
     * Returns an identifier for this look and feel. This returns
     * {@code &quot;Metal&quot;}.
     *
     * @return the identifier of this look and feel
     */
    public String getID() {
        return &quot;Metal&quot;;
    }

    /**
     * Returns a short description of this look and feel. This returns
     * {@code &quot;The Java(tm) Look and Feel&quot;}.

     * @return a short description for the look and feel
     */
    public String getDescription() {
        return &quot;The Java(tm) Look and Feel&quot;;
    }

    /**
     * Returns {@code false}; {@code MetalLookAndFeel} is not a native
     * look and feel.
     *
     * @return {@code false}
     */
    public boolean isNativeLookAndFeel() {
        return false;
    }

    /**
     * Returns {@code true}; {@code MetalLookAndFeel} can be run on
     * any platform.
     *
     * @return {@code true}
     */
    public boolean isSupportedLookAndFeel() {
        return true;
    }

    /**
     * Returns {@code true}; metal can provide {@code Window}
     * decorations.
     *
     * @return {@code true}
     *
     * @see JDialog#setDefaultLookAndFeelDecorated
     * @see JFrame#setDefaultLookAndFeelDecorated
     * @see JRootPane#setWindowDecorationStyle
     * @since 1.4
     */
    public boolean getSupportsWindowDecorations() {
        return true;
    }

    /**
     * Populates {@code table} with mappings from {@code uiClassID} to
     * the fully qualified name of the ui class. {@code
     * MetalLookAndFeel} registers an entry for each of the classes in
     * the package {@code javax.swing.plaf.metal} that are named
     * MetalXXXUI. The string {@code XXX} is one of Swing's uiClassIDs. For
     * the {@code uiClassIDs} that do not have a class in metal, the
     * corresponding class in {@code javax.swing.plaf.basic} is
     * used. For example, metal does not have a class named {@code
     * &quot;MetalColorChooserUI&quot;}, as such, {@code
     * javax.swing.plaf.basic.BasicColorChooserUI} is used.
     *
     * @param table the {@code UIDefaults} instance the entries are
     *        added to
     * @throws NullPointerException if {@code table} is {@code null}
     *
     * @see javax.swing.plaf.basic.BasicLookAndFeel#initClassDefaults
     */
    protected void initClassDefaults(UIDefaults table)
    {
        super.initClassDefaults(table);
        final String metalPackageName = &quot;javax.swing.plaf.metal.&quot;;

        Object[] uiDefaults = {
                   &quot;ButtonUI&quot;, metalPackageName + &quot;MetalButtonUI&quot;,
                 &quot;CheckBoxUI&quot;, metalPackageName + &quot;MetalCheckBoxUI&quot;,
                 &quot;ComboBoxUI&quot;, metalPackageName + &quot;MetalComboBoxUI&quot;,
              &quot;DesktopIconUI&quot;, metalPackageName + &quot;MetalDesktopIconUI&quot;,
              &quot;FileChooserUI&quot;, metalPackageName + &quot;MetalFileChooserUI&quot;,
            &quot;InternalFrameUI&quot;, metalPackageName + &quot;MetalInternalFrameUI&quot;,
                    &quot;LabelUI&quot;, metalPackageName + &quot;MetalLabelUI&quot;,
       &quot;PopupMenuSeparatorUI&quot;, metalPackageName + &quot;MetalPopupMenuSeparatorUI&quot;,
              &quot;ProgressBarUI&quot;, metalPackageName + &quot;MetalProgressBarUI&quot;,
              &quot;RadioButtonUI&quot;, metalPackageName + &quot;MetalRadioButtonUI&quot;,
                &quot;ScrollBarUI&quot;, metalPackageName + &quot;MetalScrollBarUI&quot;,
               &quot;ScrollPaneUI&quot;, metalPackageName + &quot;MetalScrollPaneUI&quot;,
                &quot;SeparatorUI&quot;, metalPackageName + &quot;MetalSeparatorUI&quot;,
                   &quot;SliderUI&quot;, metalPackageName + &quot;MetalSliderUI&quot;,
                &quot;SplitPaneUI&quot;, metalPackageName + &quot;MetalSplitPaneUI&quot;,
               &quot;TabbedPaneUI&quot;, metalPackageName + &quot;MetalTabbedPaneUI&quot;,
                &quot;TextFieldUI&quot;, metalPackageName + &quot;MetalTextFieldUI&quot;,
             &quot;ToggleButtonUI&quot;, metalPackageName + &quot;MetalToggleButtonUI&quot;,
                  &quot;ToolBarUI&quot;, metalPackageName + &quot;MetalToolBarUI&quot;,
                  &quot;ToolTipUI&quot;, metalPackageName + &quot;MetalToolTipUI&quot;,
                     &quot;TreeUI&quot;, metalPackageName + &quot;MetalTreeUI&quot;,
                 &quot;RootPaneUI&quot;, metalPackageName + &quot;MetalRootPaneUI&quot;,
        };

        table.putDefaults(uiDefaults);
    }

    /**
     * Populates {@code table} with system colors. The following values are
     * added to {@code table}:
     * &lt;table border=&quot;1&quot; cellpadding=&quot;1&quot; cellspacing=&quot;0&quot;
     *         summary=&quot;Metal's system color mapping&quot;&gt;
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;th style=&quot;background-color:#CCCCFF&quot; align=&quot;left&quot;&gt;Key
     *    &lt;th style=&quot;background-color:#CCCCFF&quot; align=&quot;left&quot;&gt;Value
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;td&gt;&quot;desktop&quot;
     *    &lt;td&gt;{@code theme.getDesktopColor()}
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;td&gt;&quot;activeCaption&quot;
     *    &lt;td&gt;{@code theme.getWindowTitleBackground()}
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;td&gt;&quot;activeCaptionText&quot;
     *    &lt;td&gt;{@code theme.getWindowTitleForeground()}
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;td&gt;&quot;activeCaptionBorder&quot;
     *    &lt;td&gt;{@code theme.getPrimaryControlShadow()}
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;td&gt;&quot;inactiveCaption&quot;
     *    &lt;td&gt;{@code theme.getWindowTitleInactiveBackground()}
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;td&gt;&quot;inactiveCaptionText&quot;
     *    &lt;td&gt;{@code theme.getWindowTitleInactiveForeground()}
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;td&gt;&quot;inactiveCaptionBorder&quot;
     *    &lt;td&gt;{@code theme.getControlShadow()}
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;td&gt;&quot;window&quot;
     *    &lt;td&gt;{@code theme.getWindowBackground()}
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;td&gt;&quot;windowBorder&quot;
     *    &lt;td&gt;{@code theme.getControl()}
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;td&gt;&quot;windowText&quot;
     *    &lt;td&gt;{@code theme.getUserTextColor()}
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;td&gt;&quot;menu&quot;
     *    &lt;td&gt;{@code theme.getMenuBackground()}
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;td&gt;&quot;menuText&quot;
     *    &lt;td&gt;{@code theme.getMenuForeground()}
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;td&gt;&quot;text&quot;
     *    &lt;td&gt;{@code theme.getWindowBackground()}
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;td&gt;&quot;textText&quot;
     *    &lt;td&gt;{@code theme.getUserTextColor()}
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;td&gt;&quot;textHighlight&quot;
     *    &lt;td&gt;{@code theme.getTextHighlightColor()}
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;td&gt;&quot;textHighlightText&quot;
     *    &lt;td&gt;{@code theme.getHighlightedTextColor()}
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;td&gt;&quot;textInactiveText&quot;
     *    &lt;td&gt;{@code theme.getInactiveSystemTextColor()}
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;td&gt;&quot;control&quot;
     *    &lt;td&gt;{@code theme.getControl()}
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;td&gt;&quot;controlText&quot;
     *    &lt;td&gt;{@code theme.getControlTextColor()}
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;td&gt;&quot;controlHighlight&quot;
     *    &lt;td&gt;{@code theme.getControlHighlight()}
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;td&gt;&quot;controlLtHighlight&quot;
     *    &lt;td&gt;{@code theme.getControlHighlight()}
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;td&gt;&quot;controlShadow&quot;
     *    &lt;td&gt;{@code theme.getControlShadow()}
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;td&gt;&quot;controlDkShadow&quot;
     *    &lt;td&gt;{@code theme.getControlDarkShadow()}
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;td&gt;&quot;scrollbar&quot;
     *    &lt;td&gt;{@code theme.getControl()}
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;td&gt;&quot;info&quot;
     *    &lt;td&gt;{@code theme.getPrimaryControl()}
     *  &lt;tr valign=&quot;top&quot;  align=&quot;left&quot;&gt;
     *    &lt;td&gt;&quot;infoText&quot;
     *    &lt;td&gt;{@code theme.getPrimaryControlInfo()}
     * &lt;/table&gt;
     * The value {@code theme} corresponds to the current {@code MetalTheme}.
     *
     * @param table the {@code UIDefaults} object the values are added to
     * @throws NullPointerException if {@code table} is {@code null}
     */
    protected void initSystemColorDefaults(UIDefaults table)
    {
        MetalTheme theme = getCurrentTheme();
        Color control = theme.getControl();
        Object[] systemColors = {
                &quot;desktop&quot;, theme.getDesktopColor(), /* Color of the desktop background */
          &quot;activeCaption&quot;, theme.getWindowTitleBackground(), /* Color for captions (title bars) when they are active. */
      &quot;activeCaptionText&quot;, theme.getWindowTitleForeground(), /* Text color for text in captions (title bars). */
    &quot;activeCaptionBorder&quot;, theme.getPrimaryControlShadow(), /* Border color for caption (title bar) window borders. */
        &quot;inactiveCaption&quot;, theme.getWindowTitleInactiveBackground(), /* Color for captions (title bars) when not active. */
    &quot;inactiveCaptionText&quot;, theme.getWindowTitleInactiveForeground(), /* Text color for text in inactive captions (title bars). */
  &quot;inactiveCaptionBorder&quot;, theme.getControlShadow(), /* Border color for inactive caption (title bar) window borders. */
                 &quot;window&quot;, theme.getWindowBackground(), /* Default color for the interior of windows */
           &quot;windowBorder&quot;, control, /* ??? */
             &quot;windowText&quot;, theme.getUserTextColor(), /* ??? */
                   &quot;menu&quot;, theme.getMenuBackground(), /* Background color for menus */
               &quot;menuText&quot;, theme.getMenuForeground(), /* Text color for menus  */
                   &quot;text&quot;, theme.getWindowBackground(), /* Text background color */
               &quot;textText&quot;, theme.getUserTextColor(), /* Text foreground color */
          &quot;textHighlight&quot;, theme.getTextHighlightColor(), /* Text background color when selected */
      &quot;textHighlightText&quot;, theme.getHighlightedTextColor(), /* Text color when selected */
       &quot;textInactiveText&quot;, theme.getInactiveSystemTextColor(), /* Text color when disabled */
                &quot;control&quot;, control, /* Default color for controls (buttons, sliders, etc) */
            &quot;controlText&quot;, theme.getControlTextColor(), /* Default color for text in controls */
       &quot;controlHighlight&quot;, theme.getControlHighlight(), /* Specular highlight (opposite of the shadow) */
     &quot;controlLtHighlight&quot;, theme.getControlHighlight(), /* Highlight color for controls */
          &quot;controlShadow&quot;, theme.getControlShadow(), /* Shadow color for controls */
        &quot;controlDkShadow&quot;, theme.getControlDarkShadow(), /* Dark shadow color for controls */
              &quot;scrollbar&quot;, control, /* Scrollbar background (usually the &quot;track&quot;) */
                   &quot;info&quot;, theme.getPrimaryControl(), /* ToolTip Background */
               &quot;infoText&quot;, theme.getPrimaryControlInfo()  /* ToolTip Text */
        };

        table.putDefaults(systemColors);
    }

    /**
     * Initialize the defaults table with the name of the ResourceBundle
     * used for getting localized defaults.
     */
    private void initResourceBundle(UIDefaults table) {
        table.addResourceBundle( &quot;com.sun.swing.internal.plaf.metal.resources.metal&quot; );
    }

    /**
     * Populates {@code table} with the defaults for metal.
     *
     * @param table the {@code UIDefaults} to add the values to
     * @throws NullPointerException if {@code table} is {@code null}
     */
    protected void initComponentDefaults(UIDefaults table) {
        super.initComponentDefaults( table );

        initResourceBundle(table);

        Color acceleratorForeground = getAcceleratorForeground();
        Color acceleratorSelectedForeground = getAcceleratorSelectedForeground();
        Color control = getControl();
        Color controlHighlight = getControlHighlight();
        Color controlShadow = getControlShadow();
        Color controlDarkShadow = getControlDarkShadow();
        Color controlTextColor = getControlTextColor();
        Color focusColor = getFocusColor();
        Color inactiveControlTextColor = getInactiveControlTextColor();
        Color menuBackground = getMenuBackground();
        Color menuSelectedBackground = getMenuSelectedBackground();
        Color menuDisabledForeground = getMenuDisabledForeground();
        Color menuSelectedForeground = getMenuSelectedForeground();
        Color primaryControl = getPrimaryControl();
        Color primaryControlDarkShadow = getPrimaryControlDarkShadow();
        Color primaryControlShadow = getPrimaryControlShadow();
        Color systemTextColor = getSystemTextColor();

        Insets zeroInsets = new InsetsUIResource(0, 0, 0, 0);

        Integer zero = Integer.valueOf(0);

        Object textFieldBorder =
            new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalBorders&quot;,
                                          &quot;getTextFieldBorder&quot;);

        Object dialogBorder = new MetalLazyValue(
                          &quot;javax.swing.plaf.metal.MetalBorders$DialogBorder&quot;);

        Object questionDialogBorder = new MetalLazyValue(
                  &quot;javax.swing.plaf.metal.MetalBorders$QuestionDialogBorder&quot;);

        Object fieldInputMap = new UIDefaults.LazyInputMap(new Object[] {
                           &quot;ctrl C&quot;, DefaultEditorKit.copyAction,
                           &quot;ctrl V&quot;, DefaultEditorKit.pasteAction,
                           &quot;ctrl X&quot;, DefaultEditorKit.cutAction,
                             &quot;COPY&quot;, DefaultEditorKit.copyAction,
                            &quot;PASTE&quot;, DefaultEditorKit.pasteAction,
                              &quot;CUT&quot;, DefaultEditorKit.cutAction,
                   &quot;control INSERT&quot;, DefaultEditorKit.copyAction,
                     &quot;shift INSERT&quot;, DefaultEditorKit.pasteAction,
                     &quot;shift DELETE&quot;, DefaultEditorKit.cutAction,
                       &quot;shift LEFT&quot;, DefaultEditorKit.selectionBackwardAction,
                    &quot;shift KP_LEFT&quot;, DefaultEditorKit.selectionBackwardAction,
                      &quot;shift RIGHT&quot;, DefaultEditorKit.selectionForwardAction,
                   &quot;shift KP_RIGHT&quot;, DefaultEditorKit.selectionForwardAction,
                        &quot;ctrl LEFT&quot;, DefaultEditorKit.previousWordAction,
                     &quot;ctrl KP_LEFT&quot;, DefaultEditorKit.previousWordAction,
                       &quot;ctrl RIGHT&quot;, DefaultEditorKit.nextWordAction,
                    &quot;ctrl KP_RIGHT&quot;, DefaultEditorKit.nextWordAction,
                  &quot;ctrl shift LEFT&quot;, DefaultEditorKit.selectionPreviousWordAction,
               &quot;ctrl shift KP_LEFT&quot;, DefaultEditorKit.selectionPreviousWordAction,
                 &quot;ctrl shift RIGHT&quot;, DefaultEditorKit.selectionNextWordAction,
              &quot;ctrl shift KP_RIGHT&quot;, DefaultEditorKit.selectionNextWordAction,
                           &quot;ctrl A&quot;, DefaultEditorKit.selectAllAction,
                             &quot;HOME&quot;, DefaultEditorKit.beginLineAction,
                              &quot;END&quot;, DefaultEditorKit.endLineAction,
                       &quot;shift HOME&quot;, DefaultEditorKit.selectionBeginLineAction,
                        &quot;shift END&quot;, DefaultEditorKit.selectionEndLineAction,
                       &quot;BACK_SPACE&quot;, DefaultEditorKit.deletePrevCharAction,
                 &quot;shift BACK_SPACE&quot;, DefaultEditorKit.deletePrevCharAction,
                           &quot;ctrl H&quot;, DefaultEditorKit.deletePrevCharAction,
                           &quot;DELETE&quot;, DefaultEditorKit.deleteNextCharAction,
                      &quot;ctrl DELETE&quot;, DefaultEditorKit.deleteNextWordAction,
                  &quot;ctrl BACK_SPACE&quot;, DefaultEditorKit.deletePrevWordAction,
                            &quot;RIGHT&quot;, DefaultEditorKit.forwardAction,
                             &quot;LEFT&quot;, DefaultEditorKit.backwardAction,
                         &quot;KP_RIGHT&quot;, DefaultEditorKit.forwardAction,
                          &quot;KP_LEFT&quot;, DefaultEditorKit.backwardAction,
                            &quot;ENTER&quot;, JTextField.notifyAction,
                  &quot;ctrl BACK_SLASH&quot;, &quot;unselect&quot;/*DefaultEditorKit.unselectAction*/,
                   &quot;control shift O&quot;, &quot;toggle-componentOrientation&quot;/*DefaultEditorKit.toggleComponentOrientation*/
        });

        Object passwordInputMap = new UIDefaults.LazyInputMap(new Object[] {
                           &quot;ctrl C&quot;, DefaultEditorKit.copyAction,
                           &quot;ctrl V&quot;, DefaultEditorKit.pasteAction,
                           &quot;ctrl X&quot;, DefaultEditorKit.cutAction,
                             &quot;COPY&quot;, DefaultEditorKit.copyAction,
                            &quot;PASTE&quot;, DefaultEditorKit.pasteAction,
                              &quot;CUT&quot;, DefaultEditorKit.cutAction,
                   &quot;control INSERT&quot;, DefaultEditorKit.copyAction,
                     &quot;shift INSERT&quot;, DefaultEditorKit.pasteAction,
                     &quot;shift DELETE&quot;, DefaultEditorKit.cutAction,
                       &quot;shift LEFT&quot;, DefaultEditorKit.selectionBackwardAction,
                    &quot;shift KP_LEFT&quot;, DefaultEditorKit.selectionBackwardAction,
                      &quot;shift RIGHT&quot;, DefaultEditorKit.selectionForwardAction,
                   &quot;shift KP_RIGHT&quot;, DefaultEditorKit.selectionForwardAction,
                        &quot;ctrl LEFT&quot;, DefaultEditorKit.beginLineAction,
                     &quot;ctrl KP_LEFT&quot;, DefaultEditorKit.beginLineAction,
                       &quot;ctrl RIGHT&quot;, DefaultEditorKit.endLineAction,
                    &quot;ctrl KP_RIGHT&quot;, DefaultEditorKit.endLineAction,
                  &quot;ctrl shift LEFT&quot;, DefaultEditorKit.selectionBeginLineAction,
               &quot;ctrl shift KP_LEFT&quot;, DefaultEditorKit.selectionBeginLineAction,
                 &quot;ctrl shift RIGHT&quot;, DefaultEditorKit.selectionEndLineAction,
              &quot;ctrl shift KP_RIGHT&quot;, DefaultEditorKit.selectionEndLineAction,
                           &quot;ctrl A&quot;, DefaultEditorKit.selectAllAction,
                             &quot;HOME&quot;, DefaultEditorKit.beginLineAction,
                              &quot;END&quot;, DefaultEditorKit.endLineAction,
                       &quot;shift HOME&quot;, DefaultEditorKit.selectionBeginLineAction,
                        &quot;shift END&quot;, DefaultEditorKit.selectionEndLineAction,
                       &quot;BACK_SPACE&quot;, DefaultEditorKit.deletePrevCharAction,
                 &quot;shift BACK_SPACE&quot;, DefaultEditorKit.deletePrevCharAction,
                           &quot;ctrl H&quot;, DefaultEditorKit.deletePrevCharAction,
                           &quot;DELETE&quot;, DefaultEditorKit.deleteNextCharAction,
                            &quot;RIGHT&quot;, DefaultEditorKit.forwardAction,
                             &quot;LEFT&quot;, DefaultEditorKit.backwardAction,
                         &quot;KP_RIGHT&quot;, DefaultEditorKit.forwardAction,
                          &quot;KP_LEFT&quot;, DefaultEditorKit.backwardAction,
                            &quot;ENTER&quot;, JTextField.notifyAction,
                  &quot;ctrl BACK_SLASH&quot;, &quot;unselect&quot;/*DefaultEditorKit.unselectAction*/,
                   &quot;control shift O&quot;, &quot;toggle-componentOrientation&quot;/*DefaultEditorKit.toggleComponentOrientation*/
        });

        Object multilineInputMap = new UIDefaults.LazyInputMap(new Object[] {
                           &quot;ctrl C&quot;, DefaultEditorKit.copyAction,
                           &quot;ctrl V&quot;, DefaultEditorKit.pasteAction,
                           &quot;ctrl X&quot;, DefaultEditorKit.cutAction,
                             &quot;COPY&quot;, DefaultEditorKit.copyAction,
                            &quot;PASTE&quot;, DefaultEditorKit.pasteAction,
                              &quot;CUT&quot;, DefaultEditorKit.cutAction,
                   &quot;control INSERT&quot;, DefaultEditorKit.copyAction,
                     &quot;shift INSERT&quot;, DefaultEditorKit.pasteAction,
                     &quot;shift DELETE&quot;, DefaultEditorKit.cutAction,
                       &quot;shift LEFT&quot;, DefaultEditorKit.selectionBackwardAction,
                    &quot;shift KP_LEFT&quot;, DefaultEditorKit.selectionBackwardAction,
                      &quot;shift RIGHT&quot;, DefaultEditorKit.selectionForwardAction,
                   &quot;shift KP_RIGHT&quot;, DefaultEditorKit.selectionForwardAction,
                        &quot;ctrl LEFT&quot;, DefaultEditorKit.previousWordAction,
                     &quot;ctrl KP_LEFT&quot;, DefaultEditorKit.previousWordAction,
                       &quot;ctrl RIGHT&quot;, DefaultEditorKit.nextWordAction,
                    &quot;ctrl KP_RIGHT&quot;, DefaultEditorKit.nextWordAction,
                  &quot;ctrl shift LEFT&quot;, DefaultEditorKit.selectionPreviousWordAction,
               &quot;ctrl shift KP_LEFT&quot;, DefaultEditorKit.selectionPreviousWordAction,
                 &quot;ctrl shift RIGHT&quot;, DefaultEditorKit.selectionNextWordAction,
              &quot;ctrl shift KP_RIGHT&quot;, DefaultEditorKit.selectionNextWordAction,
                           &quot;ctrl A&quot;, DefaultEditorKit.selectAllAction,
                             &quot;HOME&quot;, DefaultEditorKit.beginLineAction,
                              &quot;END&quot;, DefaultEditorKit.endLineAction,
                       &quot;shift HOME&quot;, DefaultEditorKit.selectionBeginLineAction,
                        &quot;shift END&quot;, DefaultEditorKit.selectionEndLineAction,

                               &quot;UP&quot;, DefaultEditorKit.upAction,
                            &quot;KP_UP&quot;, DefaultEditorKit.upAction,
                             &quot;DOWN&quot;, DefaultEditorKit.downAction,
                          &quot;KP_DOWN&quot;, DefaultEditorKit.downAction,
                          &quot;PAGE_UP&quot;, DefaultEditorKit.pageUpAction,
                        &quot;PAGE_DOWN&quot;, DefaultEditorKit.pageDownAction,
                    &quot;shift PAGE_UP&quot;, &quot;selection-page-up&quot;,
                  &quot;shift PAGE_DOWN&quot;, &quot;selection-page-down&quot;,
               &quot;ctrl shift PAGE_UP&quot;, &quot;selection-page-left&quot;,
             &quot;ctrl shift PAGE_DOWN&quot;, &quot;selection-page-right&quot;,
                         &quot;shift UP&quot;, DefaultEditorKit.selectionUpAction,
                      &quot;shift KP_UP&quot;, DefaultEditorKit.selectionUpAction,
                       &quot;shift DOWN&quot;, DefaultEditorKit.selectionDownAction,
                    &quot;shift KP_DOWN&quot;, DefaultEditorKit.selectionDownAction,
                            &quot;ENTER&quot;, DefaultEditorKit.insertBreakAction,
                       &quot;BACK_SPACE&quot;, DefaultEditorKit.deletePrevCharAction,
                 &quot;shift BACK_SPACE&quot;, DefaultEditorKit.deletePrevCharAction,
                           &quot;ctrl H&quot;, DefaultEditorKit.deletePrevCharAction,
                           &quot;DELETE&quot;, DefaultEditorKit.deleteNextCharAction,
                      &quot;ctrl DELETE&quot;, DefaultEditorKit.deleteNextWordAction,
                  &quot;ctrl BACK_SPACE&quot;, DefaultEditorKit.deletePrevWordAction,
                            &quot;RIGHT&quot;, DefaultEditorKit.forwardAction,
                             &quot;LEFT&quot;, DefaultEditorKit.backwardAction,
                         &quot;KP_RIGHT&quot;, DefaultEditorKit.forwardAction,
                          &quot;KP_LEFT&quot;, DefaultEditorKit.backwardAction,
                              &quot;TAB&quot;, DefaultEditorKit.insertTabAction,
                  &quot;ctrl BACK_SLASH&quot;, &quot;unselect&quot;/*DefaultEditorKit.unselectAction*/,
                        &quot;ctrl HOME&quot;, DefaultEditorKit.beginAction,
                         &quot;ctrl END&quot;, DefaultEditorKit.endAction,
                  &quot;ctrl shift HOME&quot;, DefaultEditorKit.selectionBeginAction,
                   &quot;ctrl shift END&quot;, DefaultEditorKit.selectionEndAction,
                           &quot;ctrl T&quot;, &quot;next-link-action&quot;,
                     &quot;ctrl shift T&quot;, &quot;previous-link-action&quot;,
                       &quot;ctrl SPACE&quot;, &quot;activate-link-action&quot;,
                   &quot;control shift O&quot;, &quot;toggle-componentOrientation&quot;/*DefaultEditorKit.toggleComponentOrientation*/
        });

        Object scrollPaneBorder = new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalBorders$ScrollPaneBorder&quot;);
        Object buttonBorder =
                    new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalBorders&quot;,
                                          &quot;getButtonBorder&quot;);

        Object toggleButtonBorder =
            new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalBorders&quot;,
                                          &quot;getToggleButtonBorder&quot;);

        Object titledBorderBorder =
            new SwingLazyValue(
                          &quot;javax.swing.plaf.BorderUIResource$LineBorderUIResource&quot;,
                          new Object[] {controlShadow});

        Object desktopIconBorder =
            new SwingLazyValue(
                          &quot;javax.swing.plaf.metal.MetalBorders&quot;,
                          &quot;getDesktopIconBorder&quot;);

        Object menuBarBorder =
            new SwingLazyValue(
                          &quot;javax.swing.plaf.metal.MetalBorders$MenuBarBorder&quot;);

        Object popupMenuBorder =
            new SwingLazyValue(
                         &quot;javax.swing.plaf.metal.MetalBorders$PopupMenuBorder&quot;);
        Object menuItemBorder =
            new SwingLazyValue(
                         &quot;javax.swing.plaf.metal.MetalBorders$MenuItemBorder&quot;);

        Object menuItemAcceleratorDelimiter = &quot;-&quot;;
        Object toolBarBorder = new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalBorders$ToolBarBorder&quot;);

        Object progressBarBorder = new SwingLazyValue(
                          &quot;javax.swing.plaf.BorderUIResource$LineBorderUIResource&quot;,
                          new Object[] {controlDarkShadow, new Integer(1)});

        Object toolTipBorder = new SwingLazyValue(
                          &quot;javax.swing.plaf.BorderUIResource$LineBorderUIResource&quot;,
                          new Object[] {primaryControlDarkShadow});

        Object toolTipBorderInactive = new SwingLazyValue(
                          &quot;javax.swing.plaf.BorderUIResource$LineBorderUIResource&quot;,
                          new Object[] {controlDarkShadow});

        Object focusCellHighlightBorder = new SwingLazyValue(
                          &quot;javax.swing.plaf.BorderUIResource$LineBorderUIResource&quot;,
                          new Object[] {focusColor});

        Object tabbedPaneTabAreaInsets = new InsetsUIResource(4, 2, 0, 6);

        Object tabbedPaneTabInsets = new InsetsUIResource(0, 9, 1, 9);

        final Object[] internalFrameIconArgs = new Object[1];
        internalFrameIconArgs[0] = new Integer(16);

        Object[] defaultCueList = new Object[] {
                &quot;OptionPane.errorSound&quot;,
                &quot;OptionPane.informationSound&quot;,
                &quot;OptionPane.questionSound&quot;,
                &quot;OptionPane.warningSound&quot; };

        MetalTheme theme = getCurrentTheme();
        Object menuTextValue = new FontActiveValue(theme,
                                                   MetalTheme.MENU_TEXT_FONT);
        Object controlTextValue = new FontActiveValue(theme,
                               MetalTheme.CONTROL_TEXT_FONT);
        Object userTextValue = new FontActiveValue(theme,
                                                   MetalTheme.USER_TEXT_FONT);
        Object windowTitleValue = new FontActiveValue(theme,
                               MetalTheme.WINDOW_TITLE_FONT);
        Object subTextValue = new FontActiveValue(theme,
                                                  MetalTheme.SUB_TEXT_FONT);
        Object systemTextValue = new FontActiveValue(theme,
                                                 MetalTheme.SYSTEM_TEXT_FONT);
        //
        // DEFAULTS TABLE
        //

        Object[] defaults = {
            // *** Auditory Feedback
            &quot;AuditoryCues.defaultCueList&quot;, defaultCueList,
            // this key defines which of the various cues to render
            // This is disabled until sound bugs can be resolved.
            &quot;AuditoryCues.playList&quot;, null, // defaultCueList,

            // Text (Note: many are inherited)
            &quot;TextField.border&quot;, textFieldBorder,
            &quot;TextField.font&quot;, userTextValue,

            &quot;PasswordField.border&quot;, textFieldBorder,
            // passwordField.font should actually map to
            // win.ansiFixed.font.height on windows.
            &quot;PasswordField.font&quot;, userTextValue,
            &quot;PasswordField.echoChar&quot;, (char)0x2022,

            // TextArea.font should actually map to win.ansiFixed.font.height
            // on windows.
            &quot;TextArea.font&quot;, userTextValue,

            &quot;TextPane.background&quot;, table.get(&quot;window&quot;),
            &quot;TextPane.font&quot;, userTextValue,

            &quot;EditorPane.background&quot;, table.get(&quot;window&quot;),
            &quot;EditorPane.font&quot;, userTextValue,

            &quot;TextField.focusInputMap&quot;, fieldInputMap,
            &quot;PasswordField.focusInputMap&quot;, passwordInputMap,
            &quot;TextArea.focusInputMap&quot;, multilineInputMap,
            &quot;TextPane.focusInputMap&quot;, multilineInputMap,
            &quot;EditorPane.focusInputMap&quot;, multilineInputMap,

            // FormattedTextFields
            &quot;FormattedTextField.border&quot;, textFieldBorder,
            &quot;FormattedTextField.font&quot;, userTextValue,
            &quot;FormattedTextField.focusInputMap&quot;,
              new UIDefaults.LazyInputMap(new Object[] {
                           &quot;ctrl C&quot;, DefaultEditorKit.copyAction,
                           &quot;ctrl V&quot;, DefaultEditorKit.pasteAction,
                           &quot;ctrl X&quot;, DefaultEditorKit.cutAction,
                             &quot;COPY&quot;, DefaultEditorKit.copyAction,
                            &quot;PASTE&quot;, DefaultEditorKit.pasteAction,
                              &quot;CUT&quot;, DefaultEditorKit.cutAction,
                   &quot;control INSERT&quot;, DefaultEditorKit.copyAction,
                     &quot;shift INSERT&quot;, DefaultEditorKit.pasteAction,
                     &quot;shift DELETE&quot;, DefaultEditorKit.cutAction,
                       &quot;shift LEFT&quot;, DefaultEditorKit.selectionBackwardAction,
                    &quot;shift KP_LEFT&quot;, DefaultEditorKit.selectionBackwardAction,
                      &quot;shift RIGHT&quot;, DefaultEditorKit.selectionForwardAction,
                   &quot;shift KP_RIGHT&quot;, DefaultEditorKit.selectionForwardAction,
                        &quot;ctrl LEFT&quot;, DefaultEditorKit.previousWordAction,
                     &quot;ctrl KP_LEFT&quot;, DefaultEditorKit.previousWordAction,
                       &quot;ctrl RIGHT&quot;, DefaultEditorKit.nextWordAction,
                    &quot;ctrl KP_RIGHT&quot;, DefaultEditorKit.nextWordAction,
                  &quot;ctrl shift LEFT&quot;, DefaultEditorKit.selectionPreviousWordAction,
               &quot;ctrl shift KP_LEFT&quot;, DefaultEditorKit.selectionPreviousWordAction,
                 &quot;ctrl shift RIGHT&quot;, DefaultEditorKit.selectionNextWordAction,
              &quot;ctrl shift KP_RIGHT&quot;, DefaultEditorKit.selectionNextWordAction,
                           &quot;ctrl A&quot;, DefaultEditorKit.selectAllAction,
                             &quot;HOME&quot;, DefaultEditorKit.beginLineAction,
                              &quot;END&quot;, DefaultEditorKit.endLineAction,
                       &quot;shift HOME&quot;, DefaultEditorKit.selectionBeginLineAction,
                        &quot;shift END&quot;, DefaultEditorKit.selectionEndLineAction,
                       &quot;BACK_SPACE&quot;, DefaultEditorKit.deletePrevCharAction,
                 &quot;shift BACK_SPACE&quot;, DefaultEditorKit.deletePrevCharAction,
                           &quot;ctrl H&quot;, DefaultEditorKit.deletePrevCharAction,
                           &quot;DELETE&quot;, DefaultEditorKit.deleteNextCharAction,
                      &quot;ctrl DELETE&quot;, DefaultEditorKit.deleteNextWordAction,
                  &quot;ctrl BACK_SPACE&quot;, DefaultEditorKit.deletePrevWordAction,
                            &quot;RIGHT&quot;, DefaultEditorKit.forwardAction,
                             &quot;LEFT&quot;, DefaultEditorKit.backwardAction,
                         &quot;KP_RIGHT&quot;, DefaultEditorKit.forwardAction,
                          &quot;KP_LEFT&quot;, DefaultEditorKit.backwardAction,
                            &quot;ENTER&quot;, JTextField.notifyAction,
                  &quot;ctrl BACK_SLASH&quot;, &quot;unselect&quot;,
                   &quot;control shift O&quot;, &quot;toggle-componentOrientation&quot;,
                           &quot;ESCAPE&quot;, &quot;reset-field-edit&quot;,
                               &quot;UP&quot;, &quot;increment&quot;,
                            &quot;KP_UP&quot;, &quot;increment&quot;,
                             &quot;DOWN&quot;, &quot;decrement&quot;,
                          &quot;KP_DOWN&quot;, &quot;decrement&quot;,
              }),


            // Buttons
            &quot;Button.defaultButtonFollowsFocus&quot;, Boolean.FALSE,
            &quot;Button.disabledText&quot;, inactiveControlTextColor,
            &quot;Button.select&quot;, controlShadow,
            &quot;Button.border&quot;, buttonBorder,
            &quot;Button.font&quot;, controlTextValue,
            &quot;Button.focus&quot;, focusColor,
            &quot;Button.focusInputMap&quot;, new UIDefaults.LazyInputMap(new Object[] {
                          &quot;SPACE&quot;, &quot;pressed&quot;,
                 &quot;released SPACE&quot;, &quot;released&quot;
              }),

            &quot;CheckBox.disabledText&quot;, inactiveControlTextColor,
            &quot;Checkbox.select&quot;, controlShadow,
            &quot;CheckBox.font&quot;, controlTextValue,
            &quot;CheckBox.focus&quot;, focusColor,
            &quot;CheckBox.icon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory&quot;, &quot;getCheckBoxIcon&quot;),
            &quot;CheckBox.focusInputMap&quot;,
               new UIDefaults.LazyInputMap(new Object[] {
                            &quot;SPACE&quot;, &quot;pressed&quot;,
                   &quot;released SPACE&quot;, &quot;released&quot;
                 }),
            // margin is 2 all the way around, BasicBorders.RadioButtonBorder
            // (checkbox uses RadioButtonBorder) is 2 all the way around too.
            &quot;CheckBox.totalInsets&quot;, new Insets(4, 4, 4, 4),

            &quot;RadioButton.disabledText&quot;, inactiveControlTextColor,
            &quot;RadioButton.select&quot;, controlShadow,
            &quot;RadioButton.icon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory&quot;, &quot;getRadioButtonIcon&quot;),
            &quot;RadioButton.font&quot;, controlTextValue,
            &quot;RadioButton.focus&quot;, focusColor,
            &quot;RadioButton.focusInputMap&quot;,
               new UIDefaults.LazyInputMap(new Object[] {
                          &quot;SPACE&quot;, &quot;pressed&quot;,
                 &quot;released SPACE&quot;, &quot;released&quot;
              }),
            // margin is 2 all the way around, BasicBorders.RadioButtonBorder
            // is 2 all the way around too.
            &quot;RadioButton.totalInsets&quot;, new Insets(4, 4, 4, 4),

            &quot;ToggleButton.select&quot;, controlShadow,
            &quot;ToggleButton.disabledText&quot;, inactiveControlTextColor,
            &quot;ToggleButton.focus&quot;, focusColor,
            &quot;ToggleButton.border&quot;, toggleButtonBorder,
            &quot;ToggleButton.font&quot;, controlTextValue,
            &quot;ToggleButton.focusInputMap&quot;,
              new UIDefaults.LazyInputMap(new Object[] {
                            &quot;SPACE&quot;, &quot;pressed&quot;,
                   &quot;released SPACE&quot;, &quot;released&quot;
                }),


            // File View
            &quot;FileView.directoryIcon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory&quot;, &quot;getTreeFolderIcon&quot;),
            &quot;FileView.fileIcon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory&quot;, &quot;getTreeLeafIcon&quot;),
            &quot;FileView.computerIcon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory&quot;, &quot;getTreeComputerIcon&quot;),
            &quot;FileView.hardDriveIcon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory&quot;, &quot;getTreeHardDriveIcon&quot;),
            &quot;FileView.floppyDriveIcon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory&quot;, &quot;getTreeFloppyDriveIcon&quot;),

            // File Chooser
            &quot;FileChooser.detailsViewIcon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory&quot;, &quot;getFileChooserDetailViewIcon&quot;),
            &quot;FileChooser.homeFolderIcon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory&quot;, &quot;getFileChooserHomeFolderIcon&quot;),
            &quot;FileChooser.listViewIcon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory&quot;, &quot;getFileChooserListViewIcon&quot;),
            &quot;FileChooser.newFolderIcon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory&quot;, &quot;getFileChooserNewFolderIcon&quot;),
            &quot;FileChooser.upFolderIcon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory&quot;, &quot;getFileChooserUpFolderIcon&quot;),

            &quot;FileChooser.usesSingleFilePane&quot;, Boolean.TRUE,
            &quot;FileChooser.ancestorInputMap&quot;,
               new UIDefaults.LazyInputMap(new Object[] {
                     &quot;ESCAPE&quot;, &quot;cancelSelection&quot;,
                     &quot;F2&quot;, &quot;editFileName&quot;,
                     &quot;F5&quot;, &quot;refresh&quot;,
                     &quot;BACK_SPACE&quot;, &quot;Go Up&quot;
                 }),


            // ToolTip
            &quot;ToolTip.font&quot;, systemTextValue,
            &quot;ToolTip.border&quot;, toolTipBorder,
            &quot;ToolTip.borderInactive&quot;, toolTipBorderInactive,
            &quot;ToolTip.backgroundInactive&quot;, control,
            &quot;ToolTip.foregroundInactive&quot;, controlDarkShadow,
            &quot;ToolTip.hideAccelerator&quot;, Boolean.FALSE,

            // ToolTipManager
            &quot;ToolTipManager.enableToolTipMode&quot;, &quot;activeApplication&quot;,

            // Slider Defaults
            &quot;Slider.font&quot;, controlTextValue,
            &quot;Slider.border&quot;, null,
            &quot;Slider.foreground&quot;, primaryControlShadow,
            &quot;Slider.focus&quot;, focusColor,
            &quot;Slider.focusInsets&quot;, zeroInsets,
            &quot;Slider.trackWidth&quot;, new Integer( 7 ),
            &quot;Slider.majorTickLength&quot;, new Integer( 6 ),
            &quot;Slider.horizontalThumbIcon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory&quot;, &quot;getHorizontalSliderThumbIcon&quot;),
            &quot;Slider.verticalThumbIcon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory&quot;, &quot;getVerticalSliderThumbIcon&quot;),
            &quot;Slider.focusInputMap&quot;,
               new UIDefaults.LazyInputMap(new Object[] {
                       &quot;RIGHT&quot;, &quot;positiveUnitIncrement&quot;,
                    &quot;KP_RIGHT&quot;, &quot;positiveUnitIncrement&quot;,
                        &quot;DOWN&quot;, &quot;negativeUnitIncrement&quot;,
                     &quot;KP_DOWN&quot;, &quot;negativeUnitIncrement&quot;,
                   &quot;PAGE_DOWN&quot;, &quot;negativeBlockIncrement&quot;,
              &quot;ctrl PAGE_DOWN&quot;, &quot;negativeBlockIncrement&quot;,
                        &quot;LEFT&quot;, &quot;negativeUnitIncrement&quot;,
                     &quot;KP_LEFT&quot;, &quot;negativeUnitIncrement&quot;,
                          &quot;UP&quot;, &quot;positiveUnitIncrement&quot;,
                       &quot;KP_UP&quot;, &quot;positiveUnitIncrement&quot;,
                     &quot;PAGE_UP&quot;, &quot;positiveBlockIncrement&quot;,
                &quot;ctrl PAGE_UP&quot;, &quot;positiveBlockIncrement&quot;,
                        &quot;HOME&quot;, &quot;minScroll&quot;,
                         &quot;END&quot;, &quot;maxScroll&quot;
                 }),

            // Progress Bar
            &quot;ProgressBar.font&quot;, controlTextValue,
            &quot;ProgressBar.foreground&quot;, primaryControlShadow,
            &quot;ProgressBar.selectionBackground&quot;, primaryControlDarkShadow,
            &quot;ProgressBar.border&quot;, progressBarBorder,
            &quot;ProgressBar.cellSpacing&quot;, zero,
            &quot;ProgressBar.cellLength&quot;, Integer.valueOf(1),

            // Combo Box
            &quot;ComboBox.background&quot;, control,
            &quot;ComboBox.foreground&quot;, controlTextColor,
            &quot;ComboBox.selectionBackground&quot;, primaryControlShadow,
            &quot;ComboBox.selectionForeground&quot;, controlTextColor,
            &quot;ComboBox.font&quot;, controlTextValue,
            &quot;ComboBox.ancestorInputMap&quot;, new UIDefaults.LazyInputMap(new Object[] {
                     &quot;ESCAPE&quot;, &quot;hidePopup&quot;,
                    &quot;PAGE_UP&quot;, &quot;pageUpPassThrough&quot;,
                  &quot;PAGE_DOWN&quot;, &quot;pageDownPassThrough&quot;,
                       &quot;HOME&quot;, &quot;homePassThrough&quot;,
                        &quot;END&quot;, &quot;endPassThrough&quot;,
                       &quot;DOWN&quot;, &quot;selectNext&quot;,
                    &quot;KP_DOWN&quot;, &quot;selectNext&quot;,
                   &quot;alt DOWN&quot;, &quot;togglePopup&quot;,
                &quot;alt KP_DOWN&quot;, &quot;togglePopup&quot;,
                     &quot;alt UP&quot;, &quot;togglePopup&quot;,
                  &quot;alt KP_UP&quot;, &quot;togglePopup&quot;,
                      &quot;SPACE&quot;, &quot;spacePopup&quot;,
                     &quot;ENTER&quot;, &quot;enterPressed&quot;,
                         &quot;UP&quot;, &quot;selectPrevious&quot;,
                      &quot;KP_UP&quot;, &quot;selectPrevious&quot;
              }),

            // Internal Frame Defaults
            &quot;InternalFrame.icon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory&quot;, &quot;getInternalFrameDefaultMenuIcon&quot;),
            &quot;InternalFrame.border&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalBorders$InternalFrameBorder&quot;),
            &quot;InternalFrame.optionDialogBorder&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalBorders$OptionDialogBorder&quot;),
            &quot;InternalFrame.paletteBorder&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalBorders$PaletteBorder&quot;),
            &quot;InternalFrame.paletteTitleHeight&quot;, new Integer(11),
            &quot;InternalFrame.paletteCloseIcon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory$PaletteCloseIcon&quot;),
            &quot;InternalFrame.closeIcon&quot;,
                  new SwingLazyValue(
                                     &quot;javax.swing.plaf.metal.MetalIconFactory&quot;,
                                     &quot;getInternalFrameCloseIcon&quot;,
                                     internalFrameIconArgs),
            &quot;InternalFrame.maximizeIcon&quot;,
                  new SwingLazyValue(
                                     &quot;javax.swing.plaf.metal.MetalIconFactory&quot;,
                                     &quot;getInternalFrameMaximizeIcon&quot;,
                                     internalFrameIconArgs),
            &quot;InternalFrame.iconifyIcon&quot;,
                  new SwingLazyValue(
                                     &quot;javax.swing.plaf.metal.MetalIconFactory&quot;,
                                     &quot;getInternalFrameMinimizeIcon&quot;,
                                     internalFrameIconArgs),
            &quot;InternalFrame.minimizeIcon&quot;,
                  new SwingLazyValue(
                                     &quot;javax.swing.plaf.metal.MetalIconFactory&quot;,
                                     &quot;getInternalFrameAltMaximizeIcon&quot;,
                                     internalFrameIconArgs),
            &quot;InternalFrame.titleFont&quot;,  windowTitleValue,
            &quot;InternalFrame.windowBindings&quot;, null,
            // Internal Frame Auditory Cue Mappings
            &quot;InternalFrame.closeSound&quot;, &quot;sounds/FrameClose.wav&quot;,
            &quot;InternalFrame.maximizeSound&quot;, &quot;sounds/FrameMaximize.wav&quot;,
            &quot;InternalFrame.minimizeSound&quot;, &quot;sounds/FrameMinimize.wav&quot;,
            &quot;InternalFrame.restoreDownSound&quot;, &quot;sounds/FrameRestoreDown.wav&quot;,
            &quot;InternalFrame.restoreUpSound&quot;, &quot;sounds/FrameRestoreUp.wav&quot;,

            // Desktop Icon
            &quot;DesktopIcon.border&quot;, desktopIconBorder,
            &quot;DesktopIcon.font&quot;, controlTextValue,
            &quot;DesktopIcon.foreground&quot;, controlTextColor,
            &quot;DesktopIcon.background&quot;, control,
            &quot;DesktopIcon.width&quot;, Integer.valueOf(160),

            &quot;Desktop.ancestorInputMap&quot;,
               new UIDefaults.LazyInputMap(new Object[] {
                 &quot;ctrl F5&quot;, &quot;restore&quot;,
                 &quot;ctrl F4&quot;, &quot;close&quot;,
                 &quot;ctrl F7&quot;, &quot;move&quot;,
                 &quot;ctrl F8&quot;, &quot;resize&quot;,
                   &quot;RIGHT&quot;, &quot;right&quot;,
                &quot;KP_RIGHT&quot;, &quot;right&quot;,
             &quot;shift RIGHT&quot;, &quot;shrinkRight&quot;,
          &quot;shift KP_RIGHT&quot;, &quot;shrinkRight&quot;,
                    &quot;LEFT&quot;, &quot;left&quot;,
                 &quot;KP_LEFT&quot;, &quot;left&quot;,
              &quot;shift LEFT&quot;, &quot;shrinkLeft&quot;,
           &quot;shift KP_LEFT&quot;, &quot;shrinkLeft&quot;,
                      &quot;UP&quot;, &quot;up&quot;,
                   &quot;KP_UP&quot;, &quot;up&quot;,
                &quot;shift UP&quot;, &quot;shrinkUp&quot;,
             &quot;shift KP_UP&quot;, &quot;shrinkUp&quot;,
                    &quot;DOWN&quot;, &quot;down&quot;,
                 &quot;KP_DOWN&quot;, &quot;down&quot;,
              &quot;shift DOWN&quot;, &quot;shrinkDown&quot;,
           &quot;shift KP_DOWN&quot;, &quot;shrinkDown&quot;,
                  &quot;ESCAPE&quot;, &quot;escape&quot;,
                 &quot;ctrl F9&quot;, &quot;minimize&quot;,
                &quot;ctrl F10&quot;, &quot;maximize&quot;,
                 &quot;ctrl F6&quot;, &quot;selectNextFrame&quot;,
                &quot;ctrl TAB&quot;, &quot;selectNextFrame&quot;,
             &quot;ctrl alt F6&quot;, &quot;selectNextFrame&quot;,
       &quot;shift ctrl alt F6&quot;, &quot;selectPreviousFrame&quot;,
                &quot;ctrl F12&quot;, &quot;navigateNext&quot;,
           &quot;shift ctrl F12&quot;, &quot;navigatePrevious&quot;
              }),

            // Titled Border
            &quot;TitledBorder.font&quot;, controlTextValue,
            &quot;TitledBorder.titleColor&quot;, systemTextColor,
            &quot;TitledBorder.border&quot;, titledBorderBorder,

            // Label
            &quot;Label.font&quot;, controlTextValue,
            &quot;Label.foreground&quot;, systemTextColor,
            &quot;Label.disabledForeground&quot;, getInactiveSystemTextColor(),

            // List
            &quot;List.font&quot;, controlTextValue,
            &quot;List.focusCellHighlightBorder&quot;, focusCellHighlightBorder,
            &quot;List.focusInputMap&quot;,
               new UIDefaults.LazyInputMap(new Object[] {
                           &quot;ctrl C&quot;, &quot;copy&quot;,
                           &quot;ctrl V&quot;, &quot;paste&quot;,
                           &quot;ctrl X&quot;, &quot;cut&quot;,
                             &quot;COPY&quot;, &quot;copy&quot;,
                            &quot;PASTE&quot;, &quot;paste&quot;,
                              &quot;CUT&quot;, &quot;cut&quot;,
                   &quot;control INSERT&quot;, &quot;copy&quot;,
                     &quot;shift INSERT&quot;, &quot;paste&quot;,
                     &quot;shift DELETE&quot;, &quot;cut&quot;,
                               &quot;UP&quot;, &quot;selectPreviousRow&quot;,
                            &quot;KP_UP&quot;, &quot;selectPreviousRow&quot;,
                         &quot;shift UP&quot;, &quot;selectPreviousRowExtendSelection&quot;,
                      &quot;shift KP_UP&quot;, &quot;selectPreviousRowExtendSelection&quot;,
                    &quot;ctrl shift UP&quot;, &quot;selectPreviousRowExtendSelection&quot;,
                 &quot;ctrl shift KP_UP&quot;, &quot;selectPreviousRowExtendSelection&quot;,
                          &quot;ctrl UP&quot;, &quot;selectPreviousRowChangeLead&quot;,
                       &quot;ctrl KP_UP&quot;, &quot;selectPreviousRowChangeLead&quot;,
                             &quot;DOWN&quot;, &quot;selectNextRow&quot;,
                          &quot;KP_DOWN&quot;, &quot;selectNextRow&quot;,
                       &quot;shift DOWN&quot;, &quot;selectNextRowExtendSelection&quot;,
                    &quot;shift KP_DOWN&quot;, &quot;selectNextRowExtendSelection&quot;,
                  &quot;ctrl shift DOWN&quot;, &quot;selectNextRowExtendSelection&quot;,
               &quot;ctrl shift KP_DOWN&quot;, &quot;selectNextRowExtendSelection&quot;,
                        &quot;ctrl DOWN&quot;, &quot;selectNextRowChangeLead&quot;,
                     &quot;ctrl KP_DOWN&quot;, &quot;selectNextRowChangeLead&quot;,
                             &quot;LEFT&quot;, &quot;selectPreviousColumn&quot;,
                          &quot;KP_LEFT&quot;, &quot;selectPreviousColumn&quot;,
                       &quot;shift LEFT&quot;, &quot;selectPreviousColumnExtendSelection&quot;,
                    &quot;shift KP_LEFT&quot;, &quot;selectPreviousColumnExtendSelection&quot;,
                  &quot;ctrl shift LEFT&quot;, &quot;selectPreviousColumnExtendSelection&quot;,
               &quot;ctrl shift KP_LEFT&quot;, &quot;selectPreviousColumnExtendSelection&quot;,
                        &quot;ctrl LEFT&quot;, &quot;selectPreviousColumnChangeLead&quot;,
                     &quot;ctrl KP_LEFT&quot;, &quot;selectPreviousColumnChangeLead&quot;,
                            &quot;RIGHT&quot;, &quot;selectNextColumn&quot;,
                         &quot;KP_RIGHT&quot;, &quot;selectNextColumn&quot;,
                      &quot;shift RIGHT&quot;, &quot;selectNextColumnExtendSelection&quot;,
                   &quot;shift KP_RIGHT&quot;, &quot;selectNextColumnExtendSelection&quot;,
                 &quot;ctrl shift RIGHT&quot;, &quot;selectNextColumnExtendSelection&quot;,
              &quot;ctrl shift KP_RIGHT&quot;, &quot;selectNextColumnExtendSelection&quot;,
                       &quot;ctrl RIGHT&quot;, &quot;selectNextColumnChangeLead&quot;,
                    &quot;ctrl KP_RIGHT&quot;, &quot;selectNextColumnChangeLead&quot;,
                             &quot;HOME&quot;, &quot;selectFirstRow&quot;,
                       &quot;shift HOME&quot;, &quot;selectFirstRowExtendSelection&quot;,
                  &quot;ctrl shift HOME&quot;, &quot;selectFirstRowExtendSelection&quot;,
                        &quot;ctrl HOME&quot;, &quot;selectFirstRowChangeLead&quot;,
                              &quot;END&quot;, &quot;selectLastRow&quot;,
                        &quot;shift END&quot;, &quot;selectLastRowExtendSelection&quot;,
                   &quot;ctrl shift END&quot;, &quot;selectLastRowExtendSelection&quot;,
                         &quot;ctrl END&quot;, &quot;selectLastRowChangeLead&quot;,
                          &quot;PAGE_UP&quot;, &quot;scrollUp&quot;,
                    &quot;shift PAGE_UP&quot;, &quot;scrollUpExtendSelection&quot;,
               &quot;ctrl shift PAGE_UP&quot;, &quot;scrollUpExtendSelection&quot;,
                     &quot;ctrl PAGE_UP&quot;, &quot;scrollUpChangeLead&quot;,
                        &quot;PAGE_DOWN&quot;, &quot;scrollDown&quot;,
                  &quot;shift PAGE_DOWN&quot;, &quot;scrollDownExtendSelection&quot;,
             &quot;ctrl shift PAGE_DOWN&quot;, &quot;scrollDownExtendSelection&quot;,
                   &quot;ctrl PAGE_DOWN&quot;, &quot;scrollDownChangeLead&quot;,
                           &quot;ctrl A&quot;, &quot;selectAll&quot;,
                       &quot;ctrl SLASH&quot;, &quot;selectAll&quot;,
                  &quot;ctrl BACK_SLASH&quot;, &quot;clearSelection&quot;,
                            &quot;SPACE&quot;, &quot;addToSelection&quot;,
                       &quot;ctrl SPACE&quot;, &quot;toggleAndAnchor&quot;,
                      &quot;shift SPACE&quot;, &quot;extendTo&quot;,
                 &quot;ctrl shift SPACE&quot;, &quot;moveSelectionTo&quot;
                 }),

            // ScrollBar
            &quot;ScrollBar.background&quot;, control,
            &quot;ScrollBar.highlight&quot;, controlHighlight,
            &quot;ScrollBar.shadow&quot;, controlShadow,
            &quot;ScrollBar.darkShadow&quot;, controlDarkShadow,
            &quot;ScrollBar.thumb&quot;, primaryControlShadow,
            &quot;ScrollBar.thumbShadow&quot;, primaryControlDarkShadow,
            &quot;ScrollBar.thumbHighlight&quot;, primaryControl,
            &quot;ScrollBar.width&quot;, new Integer( 17 ),
            &quot;ScrollBar.allowsAbsolutePositioning&quot;, Boolean.TRUE,
            &quot;ScrollBar.ancestorInputMap&quot;,
               new UIDefaults.LazyInputMap(new Object[] {
                       &quot;RIGHT&quot;, &quot;positiveUnitIncrement&quot;,
                    &quot;KP_RIGHT&quot;, &quot;positiveUnitIncrement&quot;,
                        &quot;DOWN&quot;, &quot;positiveUnitIncrement&quot;,
                     &quot;KP_DOWN&quot;, &quot;positiveUnitIncrement&quot;,
                   &quot;PAGE_DOWN&quot;, &quot;positiveBlockIncrement&quot;,
                        &quot;LEFT&quot;, &quot;negativeUnitIncrement&quot;,
                     &quot;KP_LEFT&quot;, &quot;negativeUnitIncrement&quot;,
                          &quot;UP&quot;, &quot;negativeUnitIncrement&quot;,
                       &quot;KP_UP&quot;, &quot;negativeUnitIncrement&quot;,
                     &quot;PAGE_UP&quot;, &quot;negativeBlockIncrement&quot;,
                        &quot;HOME&quot;, &quot;minScroll&quot;,
                         &quot;END&quot;, &quot;maxScroll&quot;
                 }),

            // ScrollPane
            &quot;ScrollPane.border&quot;, scrollPaneBorder,
            &quot;ScrollPane.ancestorInputMap&quot;,
               new UIDefaults.LazyInputMap(new Object[] {
                           &quot;RIGHT&quot;, &quot;unitScrollRight&quot;,
                        &quot;KP_RIGHT&quot;, &quot;unitScrollRight&quot;,
                            &quot;DOWN&quot;, &quot;unitScrollDown&quot;,
                         &quot;KP_DOWN&quot;, &quot;unitScrollDown&quot;,
                            &quot;LEFT&quot;, &quot;unitScrollLeft&quot;,
                         &quot;KP_LEFT&quot;, &quot;unitScrollLeft&quot;,
                              &quot;UP&quot;, &quot;unitScrollUp&quot;,
                           &quot;KP_UP&quot;, &quot;unitScrollUp&quot;,
                         &quot;PAGE_UP&quot;, &quot;scrollUp&quot;,
                       &quot;PAGE_DOWN&quot;, &quot;scrollDown&quot;,
                    &quot;ctrl PAGE_UP&quot;, &quot;scrollLeft&quot;,
                  &quot;ctrl PAGE_DOWN&quot;, &quot;scrollRight&quot;,
                       &quot;ctrl HOME&quot;, &quot;scrollHome&quot;,
                        &quot;ctrl END&quot;, &quot;scrollEnd&quot;
                 }),

            // Tabbed Pane
            &quot;TabbedPane.font&quot;, controlTextValue,
            &quot;TabbedPane.tabAreaBackground&quot;, control,
            &quot;TabbedPane.background&quot;, controlShadow,
            &quot;TabbedPane.light&quot;, control,
            &quot;TabbedPane.focus&quot;, primaryControlDarkShadow,
            &quot;TabbedPane.selected&quot;, control,
            &quot;TabbedPane.selectHighlight&quot;, controlHighlight,
            &quot;TabbedPane.tabAreaInsets&quot;, tabbedPaneTabAreaInsets,
            &quot;TabbedPane.tabInsets&quot;, tabbedPaneTabInsets,
            &quot;TabbedPane.focusInputMap&quot;,
              new UIDefaults.LazyInputMap(new Object[] {
                         &quot;RIGHT&quot;, &quot;navigateRight&quot;,
                      &quot;KP_RIGHT&quot;, &quot;navigateRight&quot;,
                          &quot;LEFT&quot;, &quot;navigateLeft&quot;,
                       &quot;KP_LEFT&quot;, &quot;navigateLeft&quot;,
                            &quot;UP&quot;, &quot;navigateUp&quot;,
                         &quot;KP_UP&quot;, &quot;navigateUp&quot;,
                          &quot;DOWN&quot;, &quot;navigateDown&quot;,
                       &quot;KP_DOWN&quot;, &quot;navigateDown&quot;,
                     &quot;ctrl DOWN&quot;, &quot;requestFocusForVisibleComponent&quot;,
                  &quot;ctrl KP_DOWN&quot;, &quot;requestFocusForVisibleComponent&quot;,
                }),
            &quot;TabbedPane.ancestorInputMap&quot;,
               new UIDefaults.LazyInputMap(new Object[] {
                   &quot;ctrl PAGE_DOWN&quot;, &quot;navigatePageDown&quot;,
                     &quot;ctrl PAGE_UP&quot;, &quot;navigatePageUp&quot;,
                          &quot;ctrl UP&quot;, &quot;requestFocus&quot;,
                       &quot;ctrl KP_UP&quot;, &quot;requestFocus&quot;,
                 }),

            // Table
            &quot;Table.font&quot;, userTextValue,
            &quot;Table.focusCellHighlightBorder&quot;, focusCellHighlightBorder,
            &quot;Table.scrollPaneBorder&quot;, scrollPaneBorder,
            &quot;Table.dropLineColor&quot;, focusColor,
            &quot;Table.dropLineShortColor&quot;, primaryControlDarkShadow,
            &quot;Table.gridColor&quot;, controlShadow,  // grid line color
            &quot;Table.ancestorInputMap&quot;,
               new UIDefaults.LazyInputMap(new Object[] {
                               &quot;ctrl C&quot;, &quot;copy&quot;,
                               &quot;ctrl V&quot;, &quot;paste&quot;,
                               &quot;ctrl X&quot;, &quot;cut&quot;,
                                 &quot;COPY&quot;, &quot;copy&quot;,
                                &quot;PASTE&quot;, &quot;paste&quot;,
                                  &quot;CUT&quot;, &quot;cut&quot;,
                       &quot;control INSERT&quot;, &quot;copy&quot;,
                         &quot;shift INSERT&quot;, &quot;paste&quot;,
                         &quot;shift DELETE&quot;, &quot;cut&quot;,
                                &quot;RIGHT&quot;, &quot;selectNextColumn&quot;,
                             &quot;KP_RIGHT&quot;, &quot;selectNextColumn&quot;,
                          &quot;shift RIGHT&quot;, &quot;selectNextColumnExtendSelection&quot;,
                       &quot;shift KP_RIGHT&quot;, &quot;selectNextColumnExtendSelection&quot;,
                     &quot;ctrl shift RIGHT&quot;, &quot;selectNextColumnExtendSelection&quot;,
                  &quot;ctrl shift KP_RIGHT&quot;, &quot;selectNextColumnExtendSelection&quot;,
                           &quot;ctrl RIGHT&quot;, &quot;selectNextColumnChangeLead&quot;,
                        &quot;ctrl KP_RIGHT&quot;, &quot;selectNextColumnChangeLead&quot;,
                                 &quot;LEFT&quot;, &quot;selectPreviousColumn&quot;,
                              &quot;KP_LEFT&quot;, &quot;selectPreviousColumn&quot;,
                           &quot;shift LEFT&quot;, &quot;selectPreviousColumnExtendSelection&quot;,
                        &quot;shift KP_LEFT&quot;, &quot;selectPreviousColumnExtendSelection&quot;,
                      &quot;ctrl shift LEFT&quot;, &quot;selectPreviousColumnExtendSelection&quot;,
                   &quot;ctrl shift KP_LEFT&quot;, &quot;selectPreviousColumnExtendSelection&quot;,
                            &quot;ctrl LEFT&quot;, &quot;selectPreviousColumnChangeLead&quot;,
                         &quot;ctrl KP_LEFT&quot;, &quot;selectPreviousColumnChangeLead&quot;,
                                 &quot;DOWN&quot;, &quot;selectNextRow&quot;,
                              &quot;KP_DOWN&quot;, &quot;selectNextRow&quot;,
                           &quot;shift DOWN&quot;, &quot;selectNextRowExtendSelection&quot;,
                        &quot;shift KP_DOWN&quot;, &quot;selectNextRowExtendSelection&quot;,
                      &quot;ctrl shift DOWN&quot;, &quot;selectNextRowExtendSelection&quot;,
                   &quot;ctrl shift KP_DOWN&quot;, &quot;selectNextRowExtendSelection&quot;,
                            &quot;ctrl DOWN&quot;, &quot;selectNextRowChangeLead&quot;,
                         &quot;ctrl KP_DOWN&quot;, &quot;selectNextRowChangeLead&quot;,
                                   &quot;UP&quot;, &quot;selectPreviousRow&quot;,
                                &quot;KP_UP&quot;, &quot;selectPreviousRow&quot;,
                             &quot;shift UP&quot;, &quot;selectPreviousRowExtendSelection&quot;,
                          &quot;shift KP_UP&quot;, &quot;selectPreviousRowExtendSelection&quot;,
                        &quot;ctrl shift UP&quot;, &quot;selectPreviousRowExtendSelection&quot;,
                     &quot;ctrl shift KP_UP&quot;, &quot;selectPreviousRowExtendSelection&quot;,
                              &quot;ctrl UP&quot;, &quot;selectPreviousRowChangeLead&quot;,
                           &quot;ctrl KP_UP&quot;, &quot;selectPreviousRowChangeLead&quot;,
                                 &quot;HOME&quot;, &quot;selectFirstColumn&quot;,
                           &quot;shift HOME&quot;, &quot;selectFirstColumnExtendSelection&quot;,
                      &quot;ctrl shift HOME&quot;, &quot;selectFirstRowExtendSelection&quot;,
                            &quot;ctrl HOME&quot;, &quot;selectFirstRow&quot;,
                                  &quot;END&quot;, &quot;selectLastColumn&quot;,
                            &quot;shift END&quot;, &quot;selectLastColumnExtendSelection&quot;,
                       &quot;ctrl shift END&quot;, &quot;selectLastRowExtendSelection&quot;,
                             &quot;ctrl END&quot;, &quot;selectLastRow&quot;,
                              &quot;PAGE_UP&quot;, &quot;scrollUpChangeSelection&quot;,
                        &quot;shift PAGE_UP&quot;, &quot;scrollUpExtendSelection&quot;,
                   &quot;ctrl shift PAGE_UP&quot;, &quot;scrollLeftExtendSelection&quot;,
                         &quot;ctrl PAGE_UP&quot;, &quot;scrollLeftChangeSelection&quot;,
                            &quot;PAGE_DOWN&quot;, &quot;scrollDownChangeSelection&quot;,
                      &quot;shift PAGE_DOWN&quot;, &quot;scrollDownExtendSelection&quot;,
                 &quot;ctrl shift PAGE_DOWN&quot;, &quot;scrollRightExtendSelection&quot;,
                       &quot;ctrl PAGE_DOWN&quot;, &quot;scrollRightChangeSelection&quot;,
                                  &quot;TAB&quot;, &quot;selectNextColumnCell&quot;,
                            &quot;shift TAB&quot;, &quot;selectPreviousColumnCell&quot;,
                                &quot;ENTER&quot;, &quot;selectNextRowCell&quot;,
                          &quot;shift ENTER&quot;, &quot;selectPreviousRowCell&quot;,
                               &quot;ctrl A&quot;, &quot;selectAll&quot;,
                           &quot;ctrl SLASH&quot;, &quot;selectAll&quot;,
                      &quot;ctrl BACK_SLASH&quot;, &quot;clearSelection&quot;,
                               &quot;ESCAPE&quot;, &quot;cancel&quot;,
                                   &quot;F2&quot;, &quot;startEditing&quot;,
                                &quot;SPACE&quot;, &quot;addToSelection&quot;,
                           &quot;ctrl SPACE&quot;, &quot;toggleAndAnchor&quot;,
                          &quot;shift SPACE&quot;, &quot;extendTo&quot;,
                     &quot;ctrl shift SPACE&quot;, &quot;moveSelectionTo&quot;,
                                   &quot;F8&quot;, &quot;focusHeader&quot;
                 }),
            &quot;Table.ascendingSortIcon&quot;,
                SwingUtilities2.makeIcon(getClass(), MetalLookAndFeel.class,
                &quot;icons/sortUp.png&quot;),
            &quot;Table.descendingSortIcon&quot;,
                SwingUtilities2.makeIcon(getClass(), MetalLookAndFeel.class,
                &quot;icons/sortDown.png&quot;),

            &quot;TableHeader.font&quot;, userTextValue,
            &quot;TableHeader.cellBorder&quot;, new SwingLazyValue(
                                          &quot;javax.swing.plaf.metal.MetalBorders$TableHeaderBorder&quot;),

            // MenuBar
            &quot;MenuBar.border&quot;, menuBarBorder,
            &quot;MenuBar.font&quot;, menuTextValue,
            &quot;MenuBar.windowBindings&quot;, new Object[] {
                &quot;F10&quot;, &quot;takeFocus&quot; },

            // Menu
            &quot;Menu.border&quot;, menuItemBorder,
            &quot;Menu.borderPainted&quot;, Boolean.TRUE,
            &quot;Menu.menuPopupOffsetX&quot;, zero,
            &quot;Menu.menuPopupOffsetY&quot;, zero,
            &quot;Menu.submenuPopupOffsetX&quot;, new Integer(-4),
            &quot;Menu.submenuPopupOffsetY&quot;, new Integer(-3),
            &quot;Menu.font&quot;, menuTextValue,
            &quot;Menu.selectionForeground&quot;, menuSelectedForeground,
            &quot;Menu.selectionBackground&quot;, menuSelectedBackground,
            &quot;Menu.disabledForeground&quot;, menuDisabledForeground,
            &quot;Menu.acceleratorFont&quot;, subTextValue,
            &quot;Menu.acceleratorForeground&quot;, acceleratorForeground,
            &quot;Menu.acceleratorSelectionForeground&quot;, acceleratorSelectedForeground,
            &quot;Menu.checkIcon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory&quot;, &quot;getMenuItemCheckIcon&quot;),
            &quot;Menu.arrowIcon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory&quot;, &quot;getMenuArrowIcon&quot;),

            // Menu Item
            &quot;MenuItem.border&quot;, menuItemBorder,
            &quot;MenuItem.borderPainted&quot;, Boolean.TRUE,
            &quot;MenuItem.font&quot;, menuTextValue,
            &quot;MenuItem.selectionForeground&quot;, menuSelectedForeground,
            &quot;MenuItem.selectionBackground&quot;, menuSelectedBackground,
            &quot;MenuItem.disabledForeground&quot;, menuDisabledForeground,
            &quot;MenuItem.acceleratorFont&quot;, subTextValue,
            &quot;MenuItem.acceleratorForeground&quot;, acceleratorForeground,
            &quot;MenuItem.acceleratorSelectionForeground&quot;, acceleratorSelectedForeground,
            &quot;MenuItem.acceleratorDelimiter&quot;, menuItemAcceleratorDelimiter,
            &quot;MenuItem.checkIcon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory&quot;, &quot;getMenuItemCheckIcon&quot;),
            &quot;MenuItem.arrowIcon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory&quot;, &quot;getMenuItemArrowIcon&quot;),
                 // Menu Item Auditory Cue Mapping
            &quot;MenuItem.commandSound&quot;, &quot;sounds/MenuItemCommand.wav&quot;,

            // OptionPane.
            &quot;OptionPane.windowBindings&quot;, new Object[] {
                &quot;ESCAPE&quot;, &quot;close&quot; },
            // Option Pane Auditory Cue Mappings
            &quot;OptionPane.informationSound&quot;, &quot;sounds/OptionPaneInformation.wav&quot;,
            &quot;OptionPane.warningSound&quot;, &quot;sounds/OptionPaneWarning.wav&quot;,
            &quot;OptionPane.errorSound&quot;, &quot;sounds/OptionPaneError.wav&quot;,
            &quot;OptionPane.questionSound&quot;, &quot;sounds/OptionPaneQuestion.wav&quot;,

            // Option Pane Special Dialog Colors, used when MetalRootPaneUI
            // is providing window manipulation widgets.
            &quot;OptionPane.errorDialog.border.background&quot;,
                        new ColorUIResource(153, 51, 51),
            &quot;OptionPane.errorDialog.titlePane.foreground&quot;,
                        new ColorUIResource(51, 0, 0),
            &quot;OptionPane.errorDialog.titlePane.background&quot;,
                        new ColorUIResource(255, 153, 153),
            &quot;OptionPane.errorDialog.titlePane.shadow&quot;,
                        new ColorUIResource(204, 102, 102),
            &quot;OptionPane.questionDialog.border.background&quot;,
                        new ColorUIResource(51, 102, 51),
            &quot;OptionPane.questionDialog.titlePane.foreground&quot;,
                        new ColorUIResource(0, 51, 0),
            &quot;OptionPane.questionDialog.titlePane.background&quot;,
                        new ColorUIResource(153, 204, 153),
            &quot;OptionPane.questionDialog.titlePane.shadow&quot;,
                        new ColorUIResource(102, 153, 102),
            &quot;OptionPane.warningDialog.border.background&quot;,
                        new ColorUIResource(153, 102, 51),
            &quot;OptionPane.warningDialog.titlePane.foreground&quot;,
                        new ColorUIResource(102, 51, 0),
            &quot;OptionPane.warningDialog.titlePane.background&quot;,
                        new ColorUIResource(255, 204, 153),
            &quot;OptionPane.warningDialog.titlePane.shadow&quot;,
                        new ColorUIResource(204, 153, 102),
            // OptionPane fonts are defined below

            // Separator
            &quot;Separator.background&quot;, getSeparatorBackground(),
            &quot;Separator.foreground&quot;, getSeparatorForeground(),

            // Popup Menu
            &quot;PopupMenu.border&quot;, popupMenuBorder,
                 // Popup Menu Auditory Cue Mappings
            &quot;PopupMenu.popupSound&quot;, &quot;sounds/PopupMenuPopup.wav&quot;,
            &quot;PopupMenu.font&quot;, menuTextValue,

            // CB &amp; RB Menu Item
            &quot;CheckBoxMenuItem.border&quot;, menuItemBorder,
            &quot;CheckBoxMenuItem.borderPainted&quot;, Boolean.TRUE,
            &quot;CheckBoxMenuItem.font&quot;, menuTextValue,
            &quot;CheckBoxMenuItem.selectionForeground&quot;, menuSelectedForeground,
            &quot;CheckBoxMenuItem.selectionBackground&quot;, menuSelectedBackground,
            &quot;CheckBoxMenuItem.disabledForeground&quot;, menuDisabledForeground,
            &quot;CheckBoxMenuItem.acceleratorFont&quot;, subTextValue,
            &quot;CheckBoxMenuItem.acceleratorForeground&quot;, acceleratorForeground,
            &quot;CheckBoxMenuItem.acceleratorSelectionForeground&quot;, acceleratorSelectedForeground,
            &quot;CheckBoxMenuItem.checkIcon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory&quot;, &quot;getCheckBoxMenuItemIcon&quot;),
            &quot;CheckBoxMenuItem.arrowIcon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory&quot;, &quot;getMenuItemArrowIcon&quot;),
            &quot;CheckBoxMenuItem.commandSound&quot;, &quot;sounds/MenuItemCommand.wav&quot;,

            &quot;RadioButtonMenuItem.border&quot;, menuItemBorder,
            &quot;RadioButtonMenuItem.borderPainted&quot;, Boolean.TRUE,
            &quot;RadioButtonMenuItem.font&quot;, menuTextValue,
            &quot;RadioButtonMenuItem.selectionForeground&quot;, menuSelectedForeground,
            &quot;RadioButtonMenuItem.selectionBackground&quot;, menuSelectedBackground,
            &quot;RadioButtonMenuItem.disabledForeground&quot;, menuDisabledForeground,
            &quot;RadioButtonMenuItem.acceleratorFont&quot;, subTextValue,
            &quot;RadioButtonMenuItem.acceleratorForeground&quot;, acceleratorForeground,
            &quot;RadioButtonMenuItem.acceleratorSelectionForeground&quot;, acceleratorSelectedForeground,
            &quot;RadioButtonMenuItem.checkIcon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory&quot;, &quot;getRadioButtonMenuItemIcon&quot;),
            &quot;RadioButtonMenuItem.arrowIcon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory&quot;, &quot;getMenuItemArrowIcon&quot;),
            &quot;RadioButtonMenuItem.commandSound&quot;, &quot;sounds/MenuItemCommand.wav&quot;,

            &quot;Spinner.ancestorInputMap&quot;,
               new UIDefaults.LazyInputMap(new Object[] {
                               &quot;UP&quot;, &quot;increment&quot;,
                            &quot;KP_UP&quot;, &quot;increment&quot;,
                             &quot;DOWN&quot;, &quot;decrement&quot;,
                          &quot;KP_DOWN&quot;, &quot;decrement&quot;,
               }),
            &quot;Spinner.arrowButtonInsets&quot;, zeroInsets,
            &quot;Spinner.border&quot;, textFieldBorder,
            &quot;Spinner.arrowButtonBorder&quot;, buttonBorder,
            &quot;Spinner.font&quot;, controlTextValue,

            // SplitPane

            &quot;SplitPane.dividerSize&quot;, new Integer(10),
            &quot;SplitPane.ancestorInputMap&quot;,
               new UIDefaults.LazyInputMap(new Object[] {
                        &quot;UP&quot;, &quot;negativeIncrement&quot;,
                      &quot;DOWN&quot;, &quot;positiveIncrement&quot;,
                      &quot;LEFT&quot;, &quot;negativeIncrement&quot;,
                     &quot;RIGHT&quot;, &quot;positiveIncrement&quot;,
                     &quot;KP_UP&quot;, &quot;negativeIncrement&quot;,
                   &quot;KP_DOWN&quot;, &quot;positiveIncrement&quot;,
                   &quot;KP_LEFT&quot;, &quot;negativeIncrement&quot;,
                  &quot;KP_RIGHT&quot;, &quot;positiveIncrement&quot;,
                      &quot;HOME&quot;, &quot;selectMin&quot;,
                       &quot;END&quot;, &quot;selectMax&quot;,
                        &quot;F8&quot;, &quot;startResize&quot;,
                        &quot;F6&quot;, &quot;toggleFocus&quot;,
                  &quot;ctrl TAB&quot;, &quot;focusOutForward&quot;,
            &quot;ctrl shift TAB&quot;, &quot;focusOutBackward&quot;
                 }),
            &quot;SplitPane.centerOneTouchButtons&quot;, Boolean.FALSE,
            &quot;SplitPane.dividerFocusColor&quot;, primaryControl,

            // Tree
            // Tree.font was mapped to system font pre 1.4.1
            &quot;Tree.font&quot;, userTextValue,
            &quot;Tree.textBackground&quot;, getWindowBackground(),
            &quot;Tree.selectionBorderColor&quot;, focusColor,
            &quot;Tree.openIcon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory&quot;, &quot;getTreeFolderIcon&quot;),
            &quot;Tree.closedIcon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory&quot;, &quot;getTreeFolderIcon&quot;),
            &quot;Tree.leafIcon&quot;, new SwingLazyValue(&quot;javax.swing.plaf.metal.MetalIconFactory&quot;, &quot;getTreeLeafIcon&quot;),
            &quot;Tree.expandedIcon&quot;, new SwingLazyValue(
                                     &quot;javax.swing.plaf.metal.MetalIconFactory&quot;,
                                     &quot;getTreeControlIcon&quot;,
                                     new Object[] {Boolean.valueOf(MetalIconFactory.DARK)}),
            &quot;Tree.collapsedIcon&quot;, new SwingLazyValue(
                                     &quot;javax.swing.plaf.metal.MetalIconFactory&quot;,
                                     &quot;getTreeControlIcon&quot;,
                                     new Object[] {Boolean.valueOf( MetalIconFactory.LIGHT )}),

            &quot;Tree.line&quot;, primaryControl, // horiz lines
            &quot;Tree.hash&quot;, primaryControl,  // legs
            &quot;Tree.rowHeight&quot;, zero,
            &quot;Tree.focusInputMap&quot;,
               new UIDefaults.LazyInputMap(new Object[] {
                                    &quot;ADD&quot;, &quot;expand&quot;,
                               &quot;SUBTRACT&quot;, &quot;collapse&quot;,
                                 &quot;ctrl C&quot;, &quot;copy&quot;,
                                 &quot;ctrl V&quot;, &quot;paste&quot;,
                                 &quot;ctrl X&quot;, &quot;cut&quot;,
                                   &quot;COPY&quot;, &quot;copy&quot;,
                                  &quot;PASTE&quot;, &quot;paste&quot;,
                                    &quot;CUT&quot;, &quot;cut&quot;,
                         &quot;control INSERT&quot;, &quot;copy&quot;,
                           &quot;shift INSERT&quot;, &quot;paste&quot;,
                           &quot;shift DELETE&quot;, &quot;cut&quot;,
                                     &quot;UP&quot;, &quot;selectPrevious&quot;,
                                  &quot;KP_UP&quot;, &quot;selectPrevious&quot;,
                               &quot;shift UP&quot;, &quot;selectPreviousExtendSelection&quot;,
                            &quot;shift KP_UP&quot;, &quot;selectPreviousExtendSelection&quot;,
                          &quot;ctrl shift UP&quot;, &quot;selectPreviousExtendSelection&quot;,
                       &quot;ctrl shift KP_UP&quot;, &quot;selectPreviousExtendSelection&quot;,
                                &quot;ctrl UP&quot;, &quot;selectPreviousChangeLead&quot;,
                             &quot;ctrl KP_UP&quot;, &quot;selectPreviousChangeLead&quot;,
                                   &quot;DOWN&quot;, &quot;selectNext&quot;,
                                &quot;KP_DOWN&quot;, &quot;selectNext&quot;,
                             &quot;shift DOWN&quot;, &quot;selectNextExtendSelection&quot;,
                          &quot;shift KP_DOWN&quot;, &quot;selectNextExtendSelection&quot;,
                        &quot;ctrl shift DOWN&quot;, &quot;selectNextExtendSelection&quot;,
                     &quot;ctrl shift KP_DOWN&quot;, &quot;selectNextExtendSelection&quot;,
                              &quot;ctrl DOWN&quot;, &quot;selectNextChangeLead&quot;,
                           &quot;ctrl KP_DOWN&quot;, &quot;selectNextChangeLead&quot;,
                                  &quot;RIGHT&quot;, &quot;selectChild&quot;,
                               &quot;KP_RIGHT&quot;, &quot;selectChild&quot;,
                                   &quot;LEFT&quot;, &quot;selectParent&quot;,
                                &quot;KP_LEFT&quot;, &quot;selectParent&quot;,
                                &quot;PAGE_UP&quot;, &quot;scrollUpChangeSelection&quot;,
                          &quot;shift PAGE_UP&quot;, &quot;scrollUpExtendSelection&quot;,
                     &quot;ctrl shift PAGE_UP&quot;, &quot;scrollUpExtendSelection&quot;,
                           &quot;ctrl PAGE_UP&quot;, &quot;scrollUpChangeLead&quot;,
                              &quot;PAGE_DOWN&quot;, &quot;scrollDownChangeSelection&quot;,
                        &quot;shift PAGE_DOWN&quot;, &quot;scrollDownExtendSelection&quot;,
                   &quot;ctrl shift PAGE_DOWN&quot;, &quot;scrollDownExtendSelection&quot;,
                         &quot;ctrl PAGE_DOWN&quot;, &quot;scrollDownChangeLead&quot;,
                                   &quot;HOME&quot;, &quot;selectFirst&quot;,
                             &quot;shift HOME&quot;, &quot;selectFirstExtendSelection&quot;,
                        &quot;ctrl shift HOME&quot;, &quot;selectFirstExtendSelection&quot;,
                              &quot;ctrl HOME&quot;, &quot;selectFirstChangeLead&quot;,
                                    &quot;END&quot;, &quot;selectLast&quot;,
                              &quot;shift END&quot;, &quot;selectLastExtendSelection&quot;,
                         &quot;ctrl shift END&quot;, &quot;selectLastExtendSelection&quot;,
                               &quot;ctrl END&quot;, &quot;selectLastChangeLead&quot;,
                                     &quot;F2&quot;, &quot;startEditing&quot;,
                                 &quot;ctrl A&quot;, &quot;selectAll&quot;,
                             &quot;ctrl SLASH&quot;, &quot;selectAll&quot;,
                        &quot;ctrl BACK_SLASH&quot;, &quot;clearSelection&quot;,
                              &quot;ctrl LEFT&quot;, &quot;scrollLeft&quot;,
                           &quot;ctrl KP_LEFT&quot;, &quot;scrollLeft&quot;,
                             &quot;ctrl RIGHT&quot;, &quot;scrollRight&quot;,
                          &quot;ctrl KP_RIGHT&quot;, &quot;scrollRight&quot;,
                                  &quot;SPACE&quot;, &quot;addToSelection&quot;,
                             &quot;ctrl SPACE&quot;, &quot;toggleAndAnchor&quot;,
                            &quot;shift SPACE&quot;, &quot;extendTo&quot;,
                       &quot;ctrl shift SPACE&quot;, &quot;moveSelectionTo&quot;
                 }),
            &quot;Tree.ancestorInputMap&quot;,
               new UIDefaults.LazyInputMap(new Object[] {
                     &quot;ESCAPE&quot;, &quot;cancel&quot;
                 }),

            // ToolBar
            &quot;ToolBar.border&quot;, toolBarBorder,
            &quot;ToolBar.background&quot;, menuBackground,
            &quot;ToolBar.foreground&quot;, getMenuForeground(),
            &quot;ToolBar.font&quot;, menuTextValue,
            &quot;ToolBar.dockingBackground&quot;, menuBackground,
            &quot;ToolBar.floatingBackground&quot;, menuBackground,
            &quot;ToolBar.dockingForeground&quot;, primaryControlDarkShadow,
            &quot;ToolBar.floatingForeground&quot;, primaryControl,
            &quot;ToolBar.rolloverBorder&quot;, new MetalLazyValue(
                         &quot;javax.swing.plaf.metal.MetalBorders&quot;,
                         &quot;getToolBarRolloverBorder&quot;),
            &quot;ToolBar.nonrolloverBorder&quot;, new MetalLazyValue(
                         &quot;javax.swing.plaf.metal.MetalBorders&quot;,
                         &quot;getToolBarNonrolloverBorder&quot;),
            &quot;ToolBar.ancestorInputMap&quot;,
               new UIDefaults.LazyInputMap(new Object[] {
                        &quot;UP&quot;, &quot;navigateUp&quot;,
                     &quot;KP_UP&quot;, &quot;navigateUp&quot;,
                      &quot;DOWN&quot;, &quot;navigateDown&quot;,
                   &quot;KP_DOWN&quot;, &quot;navigateDown&quot;,
                      &quot;LEFT&quot;, &quot;navigateLeft&quot;,
                   &quot;KP_LEFT&quot;, &quot;navigateLeft&quot;,
                     &quot;RIGHT&quot;, &quot;navigateRight&quot;,
                  &quot;KP_RIGHT&quot;, &quot;navigateRight&quot;
                 }),

            // RootPane
            &quot;RootPane.frameBorder&quot;, new MetalLazyValue(
                      &quot;javax.swing.plaf.metal.MetalBorders$FrameBorder&quot;),
            &quot;RootPane.plainDialogBorder&quot;, dialogBorder,
            &quot;RootPane.informationDialogBorder&quot;, dialogBorder,
            &quot;RootPane.errorDialogBorder&quot;, new MetalLazyValue(
                      &quot;javax.swing.plaf.metal.MetalBorders$ErrorDialogBorder&quot;),
            &quot;RootPane.colorChooserDialogBorder&quot;, questionDialogBorder,
            &quot;RootPane.fileChooserDialogBorder&quot;, questionDialogBorder,
            &quot;RootPane.questionDialogBorder&quot;, questionDialogBorder,
            &quot;RootPane.warningDialogBorder&quot;, new MetalLazyValue(
                    &quot;javax.swing.plaf.metal.MetalBorders$WarningDialogBorder&quot;),
            // These bindings are only enabled when there is a default
            // button set on the rootpane.
            &quot;RootPane.defaultButtonWindowKeyBindings&quot;, new Object[] {
                             &quot;ENTER&quot;, &quot;press&quot;,
                    &quot;released ENTER&quot;, &quot;release&quot;,
                        &quot;ctrl ENTER&quot;, &quot;press&quot;,
               &quot;ctrl released ENTER&quot;, &quot;release&quot;
              },
        };

        table.putDefaults(defaults);

        if (isWindows() &amp;&amp; useSystemFonts() &amp;&amp; theme.isSystemTheme()) {
            Object messageFont = new MetalFontDesktopProperty(
                &quot;win.messagebox.font.height&quot;, MetalTheme.CONTROL_TEXT_FONT);

            defaults = new Object[] {
                &quot;OptionPane.messageFont&quot;, messageFont,
                &quot;OptionPane.buttonFont&quot;, messageFont,
            };
            table.putDefaults(defaults);
        }

        flushUnreferenced(); // Remove old listeners

        boolean lafCond = SwingUtilities2.isLocalDisplay();
        Object aaTextInfo = SwingUtilities2.AATextInfo.getAATextInfo(lafCond);
        table.put(SwingUtilities2.AA_TEXT_PROPERTY_KEY, aaTextInfo);
        new AATextListener(this);
    }

    /**
     * Ensures the current {@code MetalTheme} is {@code non-null}. This is
     * a cover method for {@code getCurrentTheme}.
     *
     * @see #getCurrentTheme
     */
    protected void createDefaultTheme() {
        getCurrentTheme();
    }

    /**
     * Returns the look and feel defaults. This invokes, in order,
     * {@code createDefaultTheme()}, {@code super.getDefaults()} and
     * {@code getCurrentTheme().addCustomEntriesToTable(table)}.
     * &lt;p&gt;
     * While this method is public, it should only be invoked by the
     * {@code UIManager} when the look and feel is set as the current
     * look and feel and after {@code initialize} has been invoked.
     *
     * @return the look and feel defaults
     *
     * @see #createDefaultTheme
     * @see javax.swing.plaf.basic.BasicLookAndFeel#getDefaults()
     * @see MetalTheme#addCustomEntriesToTable(UIDefaults)
     */
    public UIDefaults getDefaults() {
        // PENDING: move this to initialize when API changes are allowed
        METAL_LOOK_AND_FEEL_INITED = true;

        createDefaultTheme();
        UIDefaults table = super.getDefaults();
        MetalTheme currentTheme = getCurrentTheme();
        currentTheme.addCustomEntriesToTable(table);
        currentTheme.install();
        return table;
    }

    /**
     * {@inheritDoc}
     *
     * @since 1.4
     */
    public void provideErrorFeedback(Component component) {
        super.provideErrorFeedback(component);
    }

    /**
     * Set the theme used by &lt;code&gt;MetalLookAndFeel&lt;/code&gt;.
     * &lt;p&gt;
     * After the theme is set, {@code MetalLookAndFeel} needs to be
     * re-installed and the uis need to be recreated. The following
     * shows how to do this:
     * &lt;pre&gt;
     *   MetalLookAndFeel.setCurrentTheme(theme);
     *
     *   // re-install the Metal Look and Feel
     *   UIManager.setLookAndFeel(new MetalLookAndFeel());
     *
     *   // Update the ComponentUIs for all Components. This
     *   // needs to be invoked for all windows.
     *   SwingUtilities.updateComponentTreeUI(rootComponent);
     * &lt;/pre&gt;
     * If this is not done the results are undefined.
     *
     * @param theme the theme to use
     * @throws NullPointerException if {@code theme} is {@code null}
     * @see #getCurrentTheme
     */
    public static void setCurrentTheme(MetalTheme theme) {
        // NOTE: because you need to recreate the look and feel after
        // this step, we don't bother blowing away any potential windows
        // values.
        if (theme == null) {
            throw new NullPointerException(&quot;Can't have null theme&quot;);
        }
        AppContext.getAppContext().put( &quot;currentMetalTheme&quot;, theme );
    }

    /**
     * Return the theme currently being used by &lt;code&gt;MetalLookAndFeel&lt;/code&gt;.
     * If the current theme is {@code null}, the default theme is created.
     *
     * @return the current theme
     * @see #setCurrentTheme
     * @since 1.5
     */
    public static MetalTheme getCurrentTheme() {
        MetalTheme currentTheme;
        AppContext context = AppContext.getAppContext();
        currentTheme = (MetalTheme) context.get( &quot;currentMetalTheme&quot; );
        if (currentTheme == null) {
            // This will happen in two cases:
            // . When MetalLookAndFeel is first being initialized.
            // . When a new AppContext has been created that hasn't
            //   triggered UIManager to load a LAF. Rather than invoke
            //   a method on the UIManager, which would trigger the loading
            //   of a potentially different LAF, we directly set the
            //   Theme here.
            if (useHighContrastTheme()) {
                currentTheme = new MetalHighContrastTheme();
            }
            else {
                // Create the default theme. We prefer Ocean, but will
                // use DefaultMetalTheme if told to.
                String theme = AccessController.doPrivileged(
                               new GetPropertyAction(&quot;swing.metalTheme&quot;));
                if (&quot;steel&quot;.equals(theme)) {
                    currentTheme = new DefaultMetalTheme();
                }
                else {
                    currentTheme = new OceanTheme();
                }
            }
            setCurrentTheme(currentTheme);
        }
        return currentTheme;
    }

    /**
     * Returns an &lt;code&gt;Icon&lt;/code&gt; with a disabled appearance.
     * This method is used to generate a disabled &lt;code&gt;Icon&lt;/code&gt; when
     * one has not been specified.  For example, if you create a
     * &lt;code&gt;JButton&lt;/code&gt; and only specify an &lt;code&gt;Icon&lt;/code&gt; via
     * &lt;code&gt;setIcon&lt;/code&gt; this method will be called to generate the
     * disabled &lt;code&gt;Icon&lt;/code&gt;. If null is passed as &lt;code&gt;icon&lt;/code&gt;
     * this method returns null.
     * &lt;p&gt;
     * Some look and feels might not render the disabled Icon, in which
     * case they will ignore this.
     *
     * @param component JComponent that will display the Icon, may be null
     * @param icon Icon to generate disable icon from.
     * @return Disabled icon, or null if a suitable Icon can not be
     *         generated.
     * @since 1.5
     */
    public Icon getDisabledIcon(JComponent component, Icon icon) {
        if ((icon instanceof ImageIcon) &amp;&amp; MetalLookAndFeel.usingOcean()) {
            return MetalUtils.getOceanDisabledButtonIcon(
                                  ((ImageIcon)icon).getImage());
        }
        return super.getDisabledIcon(component, icon);
    }

    /**
     * Returns an &lt;code&gt;Icon&lt;/code&gt; for use by disabled
     * components that are also selected. This method is used to generate an
     * &lt;code&gt;Icon&lt;/code&gt; for components that are in both the disabled and
     * selected states but do not have a specific &lt;code&gt;Icon&lt;/code&gt; for this
     * state.  For example, if you create a &lt;code&gt;JButton&lt;/code&gt; and only
     * specify an &lt;code&gt;Icon&lt;/code&gt; via &lt;code&gt;setIcon&lt;/code&gt; this method
     * will be called to generate the disabled and selected
     * &lt;code&gt;Icon&lt;/code&gt;. If null is passed as &lt;code&gt;icon&lt;/code&gt; this method
     * returns null.
     * &lt;p&gt;
     * Some look and feels might not render the disabled and selected Icon,
     * in which case they will ignore this.
     *
     * @param component JComponent that will display the Icon, may be null
     * @param icon Icon to generate disabled and selected icon from.
     * @return Disabled and Selected icon, or null if a suitable Icon can not
     *         be generated.
     * @since 1.5
     */
    public Icon getDisabledSelectedIcon(JComponent component, Icon icon) {
        if ((icon instanceof ImageIcon) &amp;&amp; MetalLookAndFeel.usingOcean()) {
            return MetalUtils.getOceanDisabledButtonIcon(
                                  ((ImageIcon)icon).getImage());
        }
        return super.getDisabledSelectedIcon(component, icon);
    }

    /**
     * Returns the control text font of the current theme. This is a
     * cover method for {@code getCurrentTheme().getControlTextColor()}.
     *
     * @return the control text font
     *
     * @see MetalTheme
     */
    public static FontUIResource getControlTextFont() { return getCurrentTheme().getControlTextFont();}

    /**
     * Returns the system text font of the current theme. This is a
     * cover method for {@code getCurrentTheme().getSystemTextFont()}.
     *
     * @return the system text font
     *
     * @see MetalTheme
     */
    public static FontUIResource getSystemTextFont() { return getCurrentTheme().getSystemTextFont();}

    /**
     * Returns the user text font of the current theme. This is a
     * cover method for {@code getCurrentTheme().getUserTextFont()}.
     *
     * @return the user text font
     *
     * @see MetalTheme
     */
    public static FontUIResource getUserTextFont() { return getCurrentTheme().getUserTextFont();}

    /**
     * Returns the menu text font of the current theme. This is a
     * cover method for {@code getCurrentTheme().getMenuTextFont()}.
     *
     * @return the menu text font
     *
     * @see MetalTheme
     */
    public static FontUIResource getMenuTextFont() { return getCurrentTheme().getMenuTextFont();}

    /**
     * Returns the window title font of the current theme. This is a
     * cover method for {@code getCurrentTheme().getWindowTitleFont()}.
     *
     * @return the window title font
     *
     * @see MetalTheme
     */
    public static FontUIResource getWindowTitleFont() { return getCurrentTheme().getWindowTitleFont();}

    /**
     * Returns the sub-text font of the current theme. This is a
     * cover method for {@code getCurrentTheme().getSubTextFont()}.
     *
     * @return the sub-text font
     *
     * @see MetalTheme
     */
    public static FontUIResource getSubTextFont() { return getCurrentTheme().getSubTextFont();}

    /**
     * Returns the desktop color of the current theme. This is a
     * cover method for {@code getCurrentTheme().getDesktopColor()}.
     *
     * @return the desktop color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getDesktopColor() { return getCurrentTheme().getDesktopColor(); }

    /**
     * Returns the focus color of the current theme. This is a
     * cover method for {@code getCurrentTheme().getFocusColor()}.
     *
     * @return the focus color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getFocusColor() { return getCurrentTheme().getFocusColor(); }

    /**
     * Returns the white color of the current theme. This is a
     * cover method for {@code getCurrentTheme().getWhite()}.
     *
     * @return the white color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getWhite() { return getCurrentTheme().getWhite(); }

    /**
     * Returns the black color of the current theme. This is a
     * cover method for {@code getCurrentTheme().getBlack()}.
     *
     * @return the black color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getBlack() { return getCurrentTheme().getBlack(); }

    /**
     * Returns the control color of the current theme. This is a
     * cover method for {@code getCurrentTheme().getControl()}.
     *
     * @return the control color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getControl() { return getCurrentTheme().getControl(); }

    /**
     * Returns the control shadow color of the current theme. This is a
     * cover method for {@code getCurrentTheme().getControlShadow()}.
     *
     * @return the control shadow color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getControlShadow() { return getCurrentTheme().getControlShadow(); }

    /**
     * Returns the control dark shadow color of the current theme. This is a
     * cover method for {@code getCurrentTheme().getControlDarkShadow()}.
     *
     * @return the control dark shadow color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getControlDarkShadow() { return getCurrentTheme().getControlDarkShadow(); }

    /**
     * Returns the control info color of the current theme. This is a
     * cover method for {@code getCurrentTheme().getControlInfo()}.
     *
     * @return the control info color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getControlInfo() { return getCurrentTheme().getControlInfo(); }

    /**
     * Returns the control highlight color of the current theme. This is a
     * cover method for {@code getCurrentTheme().getControlHighlight()}.
     *
     * @return the control highlight color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getControlHighlight() { return getCurrentTheme().getControlHighlight(); }

    /**
     * Returns the control disabled color of the current theme. This is a
     * cover method for {@code getCurrentTheme().getControlDisabled()}.
     *
     * @return the control disabled color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getControlDisabled() { return getCurrentTheme().getControlDisabled(); }

    /**
     * Returns the primary control color of the current theme. This is a
     * cover method for {@code getCurrentTheme().getPrimaryControl()}.
     *
     * @return the primary control color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getPrimaryControl() { return getCurrentTheme().getPrimaryControl(); }

    /**
     * Returns the primary control shadow color of the current theme. This is a
     * cover method for {@code getCurrentTheme().getPrimaryControlShadow()}.
     *
     * @return the primary control shadow color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getPrimaryControlShadow() { return getCurrentTheme().getPrimaryControlShadow(); }

    /**
     * Returns the primary control dark shadow color of the current
     * theme. This is a cover method for {@code
     * getCurrentTheme().getPrimaryControlDarkShadow()}.
     *
     * @return the primary control dark shadow color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getPrimaryControlDarkShadow() { return getCurrentTheme().getPrimaryControlDarkShadow(); }

    /**
     * Returns the primary control info color of the current theme. This is a
     * cover method for {@code getCurrentTheme().getPrimaryControlInfo()}.
     *
     * @return the primary control info color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getPrimaryControlInfo() { return getCurrentTheme().getPrimaryControlInfo(); }

    /**
     * Returns the primary control highlight color of the current
     * theme. This is a cover method for {@code
     * getCurrentTheme().getPrimaryControlHighlight()}.
     *
     * @return the primary control highlight color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getPrimaryControlHighlight() { return getCurrentTheme().getPrimaryControlHighlight(); }

    /**
     * Returns the system text color of the current theme. This is a
     * cover method for {@code getCurrentTheme().getSystemTextColor()}.
     *
     * @return the system text color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getSystemTextColor() { return getCurrentTheme().getSystemTextColor(); }

    /**
     * Returns the control text color of the current theme. This is a
     * cover method for {@code getCurrentTheme().getControlTextColor()}.
     *
     * @return the control text color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getControlTextColor() { return getCurrentTheme().getControlTextColor(); }

    /**
     * Returns the inactive control text color of the current theme. This is a
     * cover method for {@code
     * getCurrentTheme().getInactiveControlTextColor()}.
     *
     * @return the inactive control text color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getInactiveControlTextColor() { return getCurrentTheme().getInactiveControlTextColor(); }

    /**
     * Returns the inactive system text color of the current theme. This is a
     * cover method for {@code
     * getCurrentTheme().getInactiveSystemTextColor()}.
     *
     * @return the inactive system text color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getInactiveSystemTextColor() { return getCurrentTheme().getInactiveSystemTextColor(); }

    /**
     * Returns the user text color of the current theme. This is a
     * cover method for {@code getCurrentTheme().getUserTextColor()}.
     *
     * @return the user text color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getUserTextColor() { return getCurrentTheme().getUserTextColor(); }

    /**
     * Returns the text highlight color of the current theme. This is a
     * cover method for {@code getCurrentTheme().getTextHighlightColor()}.
     *
     * @return the text highlight color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getTextHighlightColor() { return getCurrentTheme().getTextHighlightColor(); }

    /**
     * Returns the highlighted text color of the current theme. This is a
     * cover method for {@code getCurrentTheme().getHighlightedTextColor()}.
     *
     * @return the highlighted text color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getHighlightedTextColor() { return getCurrentTheme().getHighlightedTextColor(); }

    /**
     * Returns the window background color of the current theme. This is a
     * cover method for {@code getCurrentTheme().getWindowBackground()}.
     *
     * @return the window background color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getWindowBackground() { return getCurrentTheme().getWindowBackground(); }

    /**
     * Returns the window title background color of the current
     * theme. This is a cover method for {@code
     * getCurrentTheme().getWindowTitleBackground()}.
     *
     * @return the window title background color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getWindowTitleBackground() { return getCurrentTheme().getWindowTitleBackground(); }

    /**
     * Returns the window title foreground color of the current
     * theme. This is a cover method for {@code
     * getCurrentTheme().getWindowTitleForeground()}.
     *
     * @return the window title foreground color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getWindowTitleForeground() { return getCurrentTheme().getWindowTitleForeground(); }

    /**
     * Returns the window title inactive background color of the current
     * theme. This is a cover method for {@code
     * getCurrentTheme().getWindowTitleInactiveBackground()}.
     *
     * @return the window title inactive background color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getWindowTitleInactiveBackground() { return getCurrentTheme().getWindowTitleInactiveBackground(); }

    /**
     * Returns the window title inactive foreground color of the current
     * theme. This is a cover method for {@code
     * getCurrentTheme().getWindowTitleInactiveForeground()}.
     *
     * @return the window title inactive foreground color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getWindowTitleInactiveForeground() { return getCurrentTheme().getWindowTitleInactiveForeground(); }

    /**
     * Returns the menu background color of the current theme. This is
     * a cover method for {@code getCurrentTheme().getMenuBackground()}.
     *
     * @return the menu background color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getMenuBackground() { return getCurrentTheme().getMenuBackground(); }

    /**
     * Returns the menu foreground color of the current theme. This is
     * a cover method for {@code getCurrentTheme().getMenuForeground()}.
     *
     * @return the menu foreground color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getMenuForeground() { return getCurrentTheme().getMenuForeground(); }

    /**
     * Returns the menu selected background color of the current theme. This is
     * a cover method for
     * {@code getCurrentTheme().getMenuSelectedBackground()}.
     *
     * @return the menu selected background color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getMenuSelectedBackground() { return getCurrentTheme().getMenuSelectedBackground(); }

    /**
     * Returns the menu selected foreground color of the current theme. This is
     * a cover method for
     * {@code getCurrentTheme().getMenuSelectedForeground()}.
     *
     * @return the menu selected foreground color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getMenuSelectedForeground() { return getCurrentTheme().getMenuSelectedForeground(); }

    /**
     * Returns the menu disabled foreground color of the current theme. This is
     * a cover method for
     * {@code getCurrentTheme().getMenuDisabledForeground()}.
     *
     * @return the menu disabled foreground color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getMenuDisabledForeground() { return getCurrentTheme().getMenuDisabledForeground(); }

    /**
     * Returns the separator background color of the current theme. This is
     * a cover method for {@code getCurrentTheme().getSeparatorBackground()}.
     *
     * @return the separator background color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getSeparatorBackground() { return getCurrentTheme().getSeparatorBackground(); }

    /**
     * Returns the separator foreground color of the current theme. This is
     * a cover method for {@code getCurrentTheme().getSeparatorForeground()}.
     *
     * @return the separator foreground color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getSeparatorForeground() { return getCurrentTheme().getSeparatorForeground(); }

    /**
     * Returns the accelerator foreground color of the current theme. This is
     * a cover method for {@code getCurrentTheme().getAcceleratorForeground()}.
     *
     * @return the separator accelerator foreground color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getAcceleratorForeground() { return getCurrentTheme().getAcceleratorForeground(); }

    /**
     * Returns the accelerator selected foreground color of the
     * current theme. This is a cover method for {@code
     * getCurrentTheme().getAcceleratorSelectedForeground()}.
     *
     * @return the accelerator selected foreground color
     *
     * @see MetalTheme
     */
    public static ColorUIResource getAcceleratorSelectedForeground() { return getCurrentTheme().getAcceleratorSelectedForeground(); }


    /**
     * Returns a {@code LayoutStyle} implementing the Java look and feel
     * design guidelines as specified at
     * &lt;a href=&quot;http://www.oracle.com/technetwork/java/hig-136467.html&quot;&gt;http://www.oracle.com/technetwork/java/hig-136467.html&lt;/a&gt;.
     *
     * @return LayoutStyle implementing the Java look and feel design
     *         guidelines
     * @since 1.6
     */
    public LayoutStyle getLayoutStyle() {
        return MetalLayoutStyle.INSTANCE;
    }


    /**
     * MetalLazyValue is a slimmed down version of &lt;code&gt;ProxyLaxyValue&lt;/code&gt;.
     * The code is duplicate so that it can get at the package private
     * classes in metal.
     */
    private static class MetalLazyValue implements UIDefaults.LazyValue {
        /**
         * Name of the class to create.
         */
        private String className;
        private String methodName;

        MetalLazyValue(String name) {
            this.className = name;
        }

        MetalLazyValue(String name, String methodName) {
            this(name);
            this.methodName = methodName;
        }

        public Object createValue(UIDefaults table) {
            try {
                final Class c = Class.forName(className);

                if (methodName == null) {
                    return c.newInstance();
                }
                Method method = AccessController.doPrivileged(
                    new PrivilegedAction&lt;Method&gt;() {
                    public Method run() {
                        Method[] methods = c.getDeclaredMethods();
                        for (int counter = methods.length - 1; counter &gt;= 0;
                             counter--) {
                            if (methods[counter].getName().equals(methodName)){
                                methods[counter].setAccessible(true);
                                return methods[counter];
                            }
                        }
                        return null;
                    }
                });
                if (method != null) {
                    return method.invoke(null, (Object[])null);
                }
            } catch (ClassNotFoundException cnfe) {
            } catch (InstantiationException ie) {
            } catch (IllegalAccessException iae) {
            } catch (InvocationTargetException ite) {
            }
            return null;
        }
    }


    /**
     * FontActiveValue redirects to the appropriate metal theme method.
     */
    private static class FontActiveValue implements UIDefaults.ActiveValue {
        private int type;
        private MetalTheme theme;

        FontActiveValue(MetalTheme theme, int type) {
            this.theme = theme;
            this.type = type;
        }

        public Object createValue(UIDefaults table) {
            Object value = null;
            switch (type) {
            case MetalTheme.CONTROL_TEXT_FONT:
                value = theme.getControlTextFont();
                break;
            case MetalTheme.SYSTEM_TEXT_FONT:
                value = theme.getSystemTextFont();
                break;
            case MetalTheme.USER_TEXT_FONT:
                value = theme.getUserTextFont();
                break;
            case MetalTheme.MENU_TEXT_FONT:
                value = theme.getMenuTextFont();
                break;
            case MetalTheme.WINDOW_TITLE_FONT:
                value = theme.getWindowTitleFont();
                break;
            case MetalTheme.SUB_TEXT_FONT:
                value = theme.getSubTextFont();
                break;
            }
            return value;
        }
    }

    static ReferenceQueue&lt;LookAndFeel&gt; queue = new ReferenceQueue&lt;LookAndFeel&gt;();

    static void flushUnreferenced() {
        AATextListener aatl;
        while ((aatl = (AATextListener)queue.poll()) != null) {
            aatl.dispose();
        }
    }

    static class AATextListener
        extends WeakReference&lt;LookAndFeel&gt; implements PropertyChangeListener {

        private String key = SunToolkit.DESKTOPFONTHINTS;

        AATextListener(LookAndFeel laf) {
            super(laf, queue);
            Toolkit tk = Toolkit.getDefaultToolkit();
            tk.addPropertyChangeListener(key, this);
        }

        public void propertyChange(PropertyChangeEvent pce) {
            LookAndFeel laf = get();
            if (laf == null || laf != UIManager.getLookAndFeel()) {
                dispose();
                return;
            }
            UIDefaults defaults = UIManager.getLookAndFeelDefaults();
            boolean lafCond = SwingUtilities2.isLocalDisplay();
            Object aaTextInfo =
                SwingUtilities2.AATextInfo.getAATextInfo(lafCond);
            defaults.put(SwingUtilities2.AA_TEXT_PROPERTY_KEY, aaTextInfo);
            updateUI();
        }

        void dispose() {
            Toolkit tk = Toolkit.getDefaultToolkit();
            tk.removePropertyChangeListener(key, this);
        }

        /**
         * Updates the UI of the passed in window and all its children.
         */
        private static void updateWindowUI(Window window) {
            SwingUtilities.updateComponentTreeUI(window);
            Window ownedWins[] = window.getOwnedWindows();
            for (Window w : ownedWins) {
                updateWindowUI(w);
            }
        }

        /**
         * Updates the UIs of all the known Frames.
         */
        private static void updateAllUIs() {
            Frame appFrames[] = Frame.getFrames();
            for (Frame frame : appFrames) {
                updateWindowUI(frame);
            }
        }

        /**
         * Indicates if an updateUI call is pending.
         */
        private static boolean updatePending;

        /**
         * Sets whether or not an updateUI call is pending.
         */
        private static synchronized void setUpdatePending(boolean update) {
            updatePending = update;
        }

        /**
         * Returns true if a UI update is pending.
         */
        private static synchronized boolean isUpdatePending() {
            return updatePending;
    }

        protected void updateUI() {
            if (!isUpdatePending()) {
                setUpdatePending(true);
                Runnable uiUpdater = new Runnable() {
                        public void run() {
                            updateAllUIs();
                            setUpdatePending(false);
                        }
                    };
                SwingUtilities.invokeLater(uiUpdater);
            }
        }
    }

    // From the JLF Design Guidelines:
    // http://www.oracle.com/technetwork/java/jlf-135985.html
    private static class MetalLayoutStyle extends DefaultLayoutStyle {
        private static MetalLayoutStyle INSTANCE = new MetalLayoutStyle();

        @Override
        public int getPreferredGap(JComponent component1,
                JComponent component2, ComponentPlacement type, int position,
                Container parent) {
            // Checks args
            super.getPreferredGap(component1, component2, type, position,
                                  parent);

            int offset = 0;

            switch(type) {
            case INDENT:
                // Metal doesn't spec this.
                if (position == SwingConstants.EAST ||
                        position == SwingConstants.WEST) {
                    int indent = getIndent(component1, position);
                    if (indent &gt; 0) {
                        return indent;
                    }
                    return 12;
                }
                // Fall through to related.
            case RELATED:
                if (component1.getUIClassID() == &quot;ToggleButtonUI&quot; &amp;&amp;
                        component2.getUIClassID() == &quot;ToggleButtonUI&quot;) {
                    ButtonModel sourceModel = ((JToggleButton)component1).
                            getModel();
                    ButtonModel targetModel = ((JToggleButton)component2).
                            getModel();
                    if ((sourceModel instanceof DefaultButtonModel) &amp;&amp;
                        (targetModel instanceof DefaultButtonModel) &amp;&amp;
                        (((DefaultButtonModel)sourceModel).getGroup() ==
                         ((DefaultButtonModel)targetModel).getGroup()) &amp;&amp;
                        ((DefaultButtonModel)sourceModel).getGroup() != null) {
                        // When toggle buttons are exclusive (that is,
                        // they form a radio button set), separate
                        // them with 2 pixels. This rule applies
                        // whether the toggle buttons appear in a
                        // toolbar or elsewhere in the interface.
                        // Note: this number does not appear to
                        // include any borders and so is not adjusted
                        // by the border of the toggle button
                        return 2;
                    }
                    // When toggle buttons are independent (like
                    // checkboxes) and used outside a toolbar,
                    // separate them with 5 pixels.
                    if (usingOcean()) {
                        return 6;
                    }
                    return 5;
                }
                offset = 6;
                break;
            case UNRELATED:
                offset = 12;
                break;
            }
            if (isLabelAndNonlabel(component1, component2, position)) {
                // Insert 12 pixels between the trailing edge of a
                // label and any associated components. Insert 12
                // pixels between the trailing edge of a label and the
                // component it describes when labels are
                // right-aligned. When labels are left-aligned, insert
                // 12 pixels between the trailing edge of the longest
                // label and its associated component
                return getButtonGap(component1, component2, position,
                                    offset + 6);
            }
            return getButtonGap(component1, component2, position, offset);
        }

        @Override
        public int getContainerGap(JComponent component, int position,
                                   Container parent) {
            super.getContainerGap(component, position, parent);
            // Include 11 pixels between the bottom and right
            // borders of a dialog box and its command
            // buttons. (To the eye, the 11-pixel spacing appears
            // to be 12 pixels because the white borders on the
            // lower and right edges of the button components are
            // not visually significant.)
            // NOTE: this last text was designed with Steel in mind,
            // not Ocean.
            //
            // Insert 12 pixels between the edges of the panel and the
            // titled border. Insert 11 pixels between the top of the
            // title and the component above the titled border. Insert 12
            // pixels between the bottom of the title and the top of the
            // first label in the panel. Insert 11 pixels between
            // component groups and between the bottom of the last
            // component and the lower border.
            return getButtonGap(component, position, 12 -
                                getButtonAdjustment(component, position));
        }

        @Override
        protected int getButtonGap(JComponent source, JComponent target,
                                   int position, int offset) {
            offset = super.getButtonGap(source, target, position, offset);
            if (offset &gt; 0) {
                int buttonAdjustment = getButtonAdjustment(source, position);
                if (buttonAdjustment == 0) {
                    buttonAdjustment = getButtonAdjustment(
                            target, flipDirection(position));
                }
                offset -= buttonAdjustment;
            }
            if (offset &lt; 0) {
                return 0;
            }
            return offset;
        }

        private int getButtonAdjustment(JComponent source, int edge) {
            String classID = source.getUIClassID();
            if (classID == &quot;ButtonUI&quot; || classID == &quot;ToggleButtonUI&quot;) {
                if (!usingOcean() &amp;&amp; (edge == SwingConstants.EAST ||
                                      edge == SwingConstants.SOUTH)) {
                    if (source.getBorder() instanceof UIResource) {
                        return 1;
                    }
                }
            }
            else if (edge == SwingConstants.SOUTH) {
                if ((classID == &quot;RadioButtonUI&quot; || classID == &quot;CheckBoxUI&quot;) &amp;&amp;
                        !usingOcean()) {
                    return 1;
                }
            }
            return 0;
        }
    }
}
</pre>
</body>
</html>
