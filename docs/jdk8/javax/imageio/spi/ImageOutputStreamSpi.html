<html>
    <head>
        <link rel="stylesheet" type="text/css" href="/css/styles.css"/>
    </head>
<body>
<pre class="code">
/*
 * Copyright (c) 2000, 2004, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the &quot;Classpath&quot; exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */

package javax.imageio.spi;

import java.io.File;
import java.io.IOException;
import javax.imageio.stream.ImageOutputStream;

/**
 * The service provider interface (SPI) for
 * &lt;code&gt;ImageOutputStream&lt;/code&gt;s.  For more information on service
 * provider interfaces, see the class comment for the
 * &lt;code&gt;IIORegistry&lt;/code&gt; class.
 *
 * &lt;p&gt; This interface allows arbitrary objects to be &quot;wrapped&quot; by
 * instances of &lt;code&gt;ImageOutputStream&lt;/code&gt;.  For example, a
 * particular &lt;code&gt;ImageOutputStreamSpi&lt;/code&gt; might allow a generic
 * &lt;code&gt;OutputStream&lt;/code&gt; to be used as a destination; another
 * might output to a &lt;code&gt;File&lt;/code&gt; or to a device such as a serial
 * port.
 *
 * &lt;p&gt; By treating the creation of &lt;code&gt;ImageOutputStream&lt;/code&gt;s as
 * a pluggable service, it becomes possible to handle future output
 * destinations without changing the API.  Also, high-performance
 * implementations of &lt;code&gt;ImageOutputStream&lt;/code&gt; (for example,
 * native implementations for a particular platform) can be installed
 * and used transparently by applications.
 *
 * @see IIORegistry
 * @see javax.imageio.stream.ImageOutputStream
 *
 */
public abstract class ImageOutputStreamSpi extends IIOServiceProvider {

    /**
     * A &lt;code&gt;Class&lt;/code&gt; object indicating the legal object type
     * for use by the &lt;code&gt;createInputStreamInstance&lt;/code&gt; method.
     */
    protected Class&lt;?&gt; outputClass;

    /**
     * Constructs a blank &lt;code&gt;ImageOutputStreamSpi&lt;/code&gt;.  It is up
     * to the subclass to initialize instance variables and/or
     * override method implementations in order to provide working
     * versions of all methods.
     */
    protected ImageOutputStreamSpi() {
    }

    /**
     * Constructs an &lt;code&gt;ImageOutputStreamSpi&lt;/code&gt; with a given
     * set of values.
     *
     * @param vendorName the vendor name.
     * @param version a version identifier.
     * @param outputClass a &lt;code&gt;Class&lt;/code&gt; object indicating the
     * legal object type for use by the
     * &lt;code&gt;createOutputStreamInstance&lt;/code&gt; method.
     *
     * @exception IllegalArgumentException if &lt;code&gt;vendorName&lt;/code&gt;
     * is &lt;code&gt;null&lt;/code&gt;.
     * @exception IllegalArgumentException if &lt;code&gt;version&lt;/code&gt;
     * is &lt;code&gt;null&lt;/code&gt;.
    */
    public ImageOutputStreamSpi(String vendorName,
                                String version,
                                Class&lt;?&gt; outputClass) {
        super(vendorName, version);
        this.outputClass = outputClass;
    }

    /**
     * Returns a &lt;code&gt;Class&lt;/code&gt; object representing the class or
     * interface type that must be implemented by an output
     * destination in order to be &quot;wrapped&quot; in an
     * &lt;code&gt;ImageOutputStream&lt;/code&gt; via the
     * &lt;code&gt;createOutputStreamInstance&lt;/code&gt; method.
     *
     * &lt;p&gt; Typical return values might include
     * &lt;code&gt;OutputStream.class&lt;/code&gt; or &lt;code&gt;File.class&lt;/code&gt;, but
     * any class may be used.
     *
     * @return a &lt;code&gt;Class&lt;/code&gt; variable.
     *
     * @see #createOutputStreamInstance(Object, boolean, File)
     */
    public Class&lt;?&gt; getOutputClass() {
        return outputClass;
    }

    /**
     * Returns &lt;code&gt;true&lt;/code&gt; if the &lt;code&gt;ImageOutputStream&lt;/code&gt;
     * implementation associated with this service provider can
     * optionally make use of a cache &lt;code&gt;File&lt;/code&gt; for improved
     * performance and/or memory footrprint.  If &lt;code&gt;false&lt;/code&gt;,
     * the value of the &lt;code&gt;cacheFile&lt;/code&gt; argument to
     * &lt;code&gt;createOutputStreamInstance&lt;/code&gt; will be ignored.
     *
     * &lt;p&gt; The default implementation returns &lt;code&gt;false&lt;/code&gt;.
     *
     * @return &lt;code&gt;true&lt;/code&gt; if a cache file can be used by the
     * output streams created by this service provider.
     */
    public boolean canUseCacheFile() {
        return false;
    }

    /**
     * Returns &lt;code&gt;true&lt;/code&gt; if the &lt;code&gt;ImageOutputStream&lt;/code&gt;
     * implementation associated with this service provider requires
     * the use of a cache &lt;code&gt;File&lt;/code&gt;.
     *
     * &lt;p&gt; The default implementation returns &lt;code&gt;false&lt;/code&gt;.
     *
     * @return &lt;code&gt;true&lt;/code&gt; if a cache file is needed by the
     * output streams created by this service provider.
     */
    public boolean needsCacheFile() {
        return false;
    }

    /**
     * Returns an instance of the &lt;code&gt;ImageOutputStream&lt;/code&gt;
     * implementation associated with this service provider.  If the
     * use of a cache file is optional, the &lt;code&gt;useCache&lt;/code&gt;
     * parameter will be consulted.  Where a cache is required, or
     * not applicable, the value of &lt;code&gt;useCache&lt;/code&gt; will be ignored.
     *
     * @param output an object of the class type returned by
     * &lt;code&gt;getOutputClass&lt;/code&gt;.
     * @param useCache a &lt;code&gt;boolean&lt;/code&gt; indicating whether a
     * cache file should be used, in cases where it is optional.
     * @param cacheDir a &lt;code&gt;File&lt;/code&gt; indicating where the
     * cache file should be created, or &lt;code&gt;null&lt;/code&gt; to use the
     * system directory.
     *
     * @return an &lt;code&gt;ImageOutputStream&lt;/code&gt; instance.
     *
     * @exception IllegalArgumentException if &lt;code&gt;output&lt;/code&gt; is
     * not an instance of the correct class or is &lt;code&gt;null&lt;/code&gt;.
     * @exception IllegalArgumentException if a cache file is needed,
     * but &lt;code&gt;cacheDir&lt;/code&gt; is non-&lt;code&gt;null&lt;/code&gt; and is not a
     * directory.
     * @exception IOException if a cache file is needed but cannot be
     * created.
     *
     * @see #getOutputClass
     */
    public abstract
        ImageOutputStream createOutputStreamInstance(Object output,
                                                     boolean useCache,
                                                     File cacheDir)
        throws IOException;

    /**
     * Returns an instance of the &lt;code&gt;ImageOutputStream&lt;/code&gt;
     * implementation associated with this service provider.  A cache
     * file will be created in the system-dependent default
     * temporary-file directory, if needed.
     *
     * @param output an object of the class type returned by
     * &lt;code&gt;getOutputClass&lt;/code&gt;.
     *
     * @return an &lt;code&gt;ImageOutputStream&lt;/code&gt; instance.
     *
     * @exception IllegalArgumentException if &lt;code&gt;output&lt;/code&gt; is
     * not an instance of the correct class or is &lt;code&gt;null&lt;/code&gt;.
     * @exception IOException if a cache file is needed but cannot be
     * created.
     *
     * @see #getOutputClass()
     */
    public ImageOutputStream createOutputStreamInstance(Object output)
        throws IOException {
        return createOutputStreamInstance(output, true, null);
    }
}
</pre>
</body>
</html>
