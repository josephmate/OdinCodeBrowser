<html>
    <head>
        <link rel="stylesheet" type="text/css" href="/css/styles.css"/>
    </head>
<body>
<pre class="code">
/*
 * Copyright (c) 2003, 2013, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the &quot;Classpath&quot; exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */

package javax.sql.rowset;

import java.sql.*;
import javax.sql.*;
import javax.naming.*;
import java.io.*;
import java.math.*;
import java.io.*;

/**
 * The standard interface that all standard implementations of
 * &lt;code&gt;JdbcRowSet&lt;/code&gt; must implement.
 *
 * &lt;h3&gt;1.0 Overview&lt;/h3&gt;
 * A wrapper around a &lt;code&gt;ResultSet&lt;/code&gt; object that makes it possible
 * to use the result set as a JavaBeans&amp;trade;
 * component.  Thus, a &lt;code&gt;JdbcRowSet&lt;/code&gt; object can be one of the Beans that
 * a tool makes available for composing an application.  Because
 * a &lt;code&gt;JdbcRowSet&lt;/code&gt; is a connected rowset, that is, it continually
 * maintains its connection to a database using a JDBC technology-enabled
 * driver, it also effectively makes the driver a JavaBeans component.
 * &lt;P&gt;
 * Because it is always connected to its database, an instance of
 * &lt;code&gt;JdbcRowSet&lt;/code&gt;
 * can simply take calls invoked on it and in turn call them on its
 * &lt;code&gt;ResultSet&lt;/code&gt; object. As a consequence, a result set can, for
 * example, be a component in a Swing application.
 * &lt;P&gt;
 * Another advantage of a &lt;code&gt;JdbcRowSet&lt;/code&gt; object is that it can be
 * used to make a &lt;code&gt;ResultSet&lt;/code&gt; object scrollable and updatable.  All
 * &lt;code&gt;RowSet&lt;/code&gt; objects are by default scrollable and updatable. If
 * the driver and database being used do not support scrolling and/or updating
 * of result sets, an application can populate a &lt;code&gt;JdbcRowSet&lt;/code&gt; object
 * with the data of a &lt;code&gt;ResultSet&lt;/code&gt; object and then operate on the
 * &lt;code&gt;JdbcRowSet&lt;/code&gt; object as if it were the &lt;code&gt;ResultSet&lt;/code&gt;
 * object.
 *
 * &lt;h3&gt;2.0 Creating a &lt;code&gt;JdbcRowSet&lt;/code&gt; Object&lt;/h3&gt;
 * The reference implementation of the &lt;code&gt;JdbcRowSet&lt;/code&gt; interface,
 * &lt;code&gt;JdbcRowSetImpl&lt;/code&gt;, provides an implementation of
 * the default constructor.  A new instance is initialized with
 * default values, which can be set with new values as needed. A
 * new instance is not really functional until its &lt;code&gt;execute&lt;/code&gt;
 * method is called. In general, this method does the following:
 * &lt;UL&gt;
 *   &lt;LI&gt; establishes a connection with a database
 *   &lt;LI&gt; creates a &lt;code&gt;PreparedStatement&lt;/code&gt; object and sets any of its
 *        placeholder parameters
 *   &lt;LI&gt; executes the statement to create a &lt;code&gt;ResultSet&lt;/code&gt; object
 * &lt;/UL&gt;
 * If the &lt;code&gt;execute&lt;/code&gt; method is successful, it will set the
 * appropriate private &lt;code&gt;JdbcRowSet&lt;/code&gt; fields with the following:
 * &lt;UL&gt;
 *  &lt;LI&gt; a &lt;code&gt;Connection&lt;/code&gt; object -- the connection between the rowset
 *       and the database
 *  &lt;LI&gt; a &lt;code&gt;PreparedStatement&lt;/code&gt; object -- the query that produces
 *       the result set
 *  &lt;LI&gt; a &lt;code&gt;ResultSet&lt;/code&gt; object -- the result set that the rowset's
 *       command produced and that is being made, in effect, a JavaBeans
 *       component
 * &lt;/UL&gt;
 * If these fields have not been set, meaning that the &lt;code&gt;execute&lt;/code&gt;
 * method has not executed successfully, no methods other than
 * &lt;code&gt;execute&lt;/code&gt; and &lt;code&gt;close&lt;/code&gt; may be called on the
 * rowset.  All other public methods will throw an exception.
 * &lt;P&gt;
 * Before calling the &lt;code&gt;execute&lt;/code&gt; method, however, the command
 * and properties needed for establishing a connection must be set.
 * The following code fragment creates a &lt;code&gt;JdbcRowSetImpl&lt;/code&gt; object,
 * sets the command and connection properties, sets the placeholder parameter,
 * and then invokes the method &lt;code&gt;execute&lt;/code&gt;.
 * &lt;PRE&gt;
 *     JdbcRowSetImpl jrs = new JdbcRowSetImpl();
 *     jrs.setCommand(&quot;SELECT * FROM TITLES WHERE TYPE = ?&quot;);
 *     jrs.setURL(&quot;jdbc:myDriver:myAttribute&quot;);
 *     jrs.setUsername(&quot;cervantes&quot;);
 *     jrs.setPassword(&quot;sancho&quot;);
 *     jrs.setString(1, &quot;BIOGRAPHY&quot;);
 *     jrs.execute();
 * &lt;/PRE&gt;
 * The variable &lt;code&gt;jrs&lt;/code&gt; now represents an instance of
 * &lt;code&gt;JdbcRowSetImpl&lt;/code&gt; that is a thin wrapper around the
 * &lt;code&gt;ResultSet&lt;/code&gt; object containing all the rows in the
 * table &lt;code&gt;TITLES&lt;/code&gt; where the type of book is biography.
 * At this point, operations called on &lt;code&gt;jrs&lt;/code&gt; will
 * affect the rows in the result set, which is effectively a JavaBeans
 * component.
 * &lt;P&gt;
 * The implementation of the &lt;code&gt;RowSet&lt;/code&gt; method &lt;code&gt;execute&lt;/code&gt; in the
 * &lt;code&gt;JdbcRowSet&lt;/code&gt; reference implementation differs from that in the
 * &lt;code&gt;CachedRowSet&lt;/code&gt;&amp;trade;
 * reference implementation to account for the different
 * requirements of connected and disconnected &lt;code&gt;RowSet&lt;/code&gt; objects.
 * &lt;p&gt;
 *
 * @author Jonathan Bruce
 */

public interface JdbcRowSet extends RowSet, Joinable {

    /**
     * Retrieves a &lt;code&gt;boolean&lt;/code&gt; indicating whether rows marked
     * for deletion appear in the set of current rows. If &lt;code&gt;true&lt;/code&gt; is
     * returned, deleted rows are visible with the current rows. If
     * &lt;code&gt;false&lt;/code&gt; is returned, rows are not visible with the set of
     * current rows. The default value is &lt;code&gt;false&lt;/code&gt;.
     * &lt;P&gt;
     * Standard rowset implementations may choose to restrict this behavior
     * for security considerations or for certain deployment
     * scenarios. The visibility of deleted rows is implementation-defined
     * and does not represent standard behavior.
     * &lt;P&gt;
     * Note: Allowing deleted rows to remain visible complicates the behavior
     * of some standard JDBC &lt;code&gt;RowSet&lt;/code&gt; implementations methods.
     * However, most rowset users can simply ignore this extra detail because
     * only very specialized applications will likely want to take advantage of
     * this feature.
     *
     * @return &lt;code&gt;true&lt;/code&gt; if deleted rows are visible;
     *         &lt;code&gt;false&lt;/code&gt; otherwise
     * @exception SQLException if a rowset implementation is unable to
     *          to determine whether rows marked for deletion remain visible
     * @see #setShowDeleted
     */
    public boolean getShowDeleted() throws SQLException;

    /**
     * Sets the property &lt;code&gt;showDeleted&lt;/code&gt; to the given
     * &lt;code&gt;boolean&lt;/code&gt; value. This property determines whether
     * rows marked for deletion continue to appear in the set of current rows.
     * If the value is set to &lt;code&gt;true&lt;/code&gt;, deleted rows are immediately
     * visible with the set of current rows. If the value is set to
     * &lt;code&gt;false&lt;/code&gt;, the deleted rows are set as invisible with the
     * current set of rows.
     * &lt;P&gt;
     * Standard rowset implementations may choose to restrict this behavior
     * for security considerations or for certain deployment
     * scenarios. This is left as implementation-defined and does not
     * represent standard behavior.
     *
     * @param b &lt;code&gt;true&lt;/code&gt; if deleted rows should be shown;
     *              &lt;code&gt;false&lt;/code&gt; otherwise
     * @exception SQLException if a rowset implementation is unable to
     *          to reset whether deleted rows should be visible
     * @see #getShowDeleted
     */
    public void setShowDeleted(boolean b) throws SQLException;

    /**
     * Retrieves the first warning reported by calls on this &lt;code&gt;JdbcRowSet&lt;/code&gt;
     * object.
     * If a second warning was reported on this &lt;code&gt;JdbcRowSet&lt;/code&gt; object,
     * it will be chained to the first warning and can be retrieved by
     * calling the method &lt;code&gt;RowSetWarning.getNextWarning&lt;/code&gt; on the
     * first warning. Subsequent warnings on this &lt;code&gt;JdbcRowSet&lt;/code&gt;
     * object will be chained to the &lt;code&gt;RowSetWarning&lt;/code&gt; objects
     * returned by the method &lt;code&gt;RowSetWarning.getNextWarning&lt;/code&gt;.
     *
     * The warning chain is automatically cleared each time a new row is read.
     * This method may not be called on a &lt;code&gt;RowSet&lt;/code&gt; object
     * that has been closed;
     * doing so will cause an &lt;code&gt;SQLException&lt;/code&gt; to be thrown.
     * &lt;P&gt;
     * Because it is always connected to its data source, a &lt;code&gt;JdbcRowSet&lt;/code&gt;
     * object can rely on the presence of active
     * &lt;code&gt;Statement&lt;/code&gt;, &lt;code&gt;Connection&lt;/code&gt;, and &lt;code&gt;ResultSet&lt;/code&gt;
     * instances. This means that  applications can obtain additional
     * &lt;code&gt;SQLWarning&lt;/code&gt;
     * notifications by calling the &lt;code&gt;getNextWarning&lt;/code&gt; methods that
     * they provide.
     * Disconnected &lt;code&gt;Rowset&lt;/code&gt; objects, such as a
     * &lt;code&gt;CachedRowSet&lt;/code&gt; object, do not have access to
     * these &lt;code&gt;getNextWarning&lt;/code&gt; methods.
     *
     * @return the first &lt;code&gt;RowSetWarning&lt;/code&gt;
     * object reported on this &lt;code&gt;JdbcRowSet&lt;/code&gt; object
     * or &lt;code&gt;null&lt;/code&gt; if there are none
     * @throws SQLException if this method is called on a closed
     * &lt;code&gt;JdbcRowSet&lt;/code&gt; object
     * @see RowSetWarning
     */
    public RowSetWarning getRowSetWarnings() throws SQLException;

   /**
    * Each &lt;code&gt;JdbcRowSet&lt;/code&gt; contains a &lt;code&gt;Connection&lt;/code&gt; object from
    * the &lt;code&gt;ResultSet&lt;/code&gt; or JDBC properties passed to it's constructors.
    * This method wraps the &lt;code&gt;Connection&lt;/code&gt; commit method to allow flexible
    * auto commit or non auto commit transactional control support.
    * &lt;p&gt;
    * Makes all changes made since the previous commit/rollback permanent
    * and releases any database locks currently held by this Connection
    * object. This method should be used only when auto-commit mode has
    * been disabled.
    *
    * @throws SQLException if a database access error occurs or this
    * Connection object within this &lt;code&gt;JdbcRowSet&lt;/code&gt; is in auto-commit mode
    * @see java.sql.Connection#setAutoCommit
    */
    public void commit() throws SQLException;


   /**
    * Each &lt;code&gt;JdbcRowSet&lt;/code&gt; contains a &lt;code&gt;Connection&lt;/code&gt; object from
    * the original &lt;code&gt;ResultSet&lt;/code&gt; or JDBC properties passed to it. This
    * method wraps the &lt;code&gt;Connection&lt;/code&gt;'s &lt;code&gt;getAutoCommit&lt;/code&gt; method
    * to allow an application to determine the &lt;code&gt;JdbcRowSet&lt;/code&gt; transaction
    * behavior.
    * &lt;p&gt;
    * Sets this connection's auto-commit mode to the given state. If a
    * connection is in auto-commit mode, then all its SQL statements will
    * be executed and committed as individual transactions. Otherwise, its
    * SQL statements are grouped into transactions that are terminated by a
    * call to either the method commit or the method rollback. By default,
    * new connections are in auto-commit mode.
    *
    * @return {@code true} if auto-commit is enabled; {@code false} otherwise
    * @throws SQLException if a database access error occurs
    * @see java.sql.Connection#getAutoCommit()
    */
    public boolean getAutoCommit() throws SQLException;


   /**
    * Each &lt;code&gt;JdbcRowSet&lt;/code&gt; contains a &lt;code&gt;Connection&lt;/code&gt; object from
    * the original &lt;code&gt;ResultSet&lt;/code&gt; or JDBC properties passed to it. This
    * method wraps the &lt;code&gt;Connection&lt;/code&gt;'s &lt;code&gt;getAutoCommit&lt;/code&gt; method
    * to allow an application to set the &lt;code&gt;JdbcRowSet&lt;/code&gt; transaction behavior.
    * &lt;p&gt;
    * Sets the current auto-commit mode for this &lt;code&gt;Connection&lt;/code&gt; object.
    * @param autoCommit {@code true} to enable auto-commit; {@code false} to
    * disable auto-commit
    * @throws SQLException if a database access error occurs
    * @see java.sql.Connection#setAutoCommit(boolean)
    */
    public void setAutoCommit(boolean autoCommit) throws SQLException;

    /**
     * Each &lt;code&gt;JdbcRowSet&lt;/code&gt; contains a &lt;code&gt;Connection&lt;/code&gt; object from
     * the original &lt;code&gt;ResultSet&lt;/code&gt; or JDBC properties passed to it.
     * Undoes all changes made in the current transaction and releases any
     * database locks currently held by this &lt;code&gt;Connection&lt;/code&gt; object. This method
     * should be used only when auto-commit mode has been disabled.
     *
     * @throws SQLException if a database access error occurs or this &lt;code&gt;Connection&lt;/code&gt;
     * object within this &lt;code&gt;JdbcRowSet&lt;/code&gt; is in auto-commit mode.
     * @see #rollback(Savepoint)
     */
     public void rollback() throws SQLException;


    /**
     * Each &lt;code&gt;JdbcRowSet&lt;/code&gt; contains a &lt;code&gt;Connection&lt;/code&gt; object from
     * the original &lt;code&gt;ResultSet&lt;/code&gt; or JDBC properties passed to it.
     * Undoes all changes made in the current transaction to the last set savepoint
     * and releases any database locks currently held by this &lt;code&gt;Connection&lt;/code&gt;
     * object. This method should be used only when auto-commit mode has been disabled.
     * @param s The {@code Savepoint} to rollback to
     * @throws SQLException if a database access error occurs or this &lt;code&gt;Connection&lt;/code&gt;
     * object within this &lt;code&gt;JdbcRowSet&lt;/code&gt; is in auto-commit mode.
     * @see #rollback
     */
    public void rollback(Savepoint s) throws SQLException;

}
</pre>
</body>
</html>
